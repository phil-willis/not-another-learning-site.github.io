{"pageProps":{"post":{"title":"Github","slug":"github","content":"<h1>Git</h1>\n<ul>\n<li>Git is a open source Version Control System (VCS). It's the de facto standard. Developed in 2005 by Linus Torvalds, the guy who created the Linux operating system kernel</li>\n<li>Branches are lightweight and cheap, so it's OK to have many of them</li>\n<li>Git stores chages in SHA hashes, which work by compressing text files. This makes it a great candidate for working with text-files like software code but not as ideal when it comes to binary</li>\n<li>You can connect your repository you have locally to a remove shared repository (great example is Github, but there's other ones like Bitbucket). This way you can <code>push</code> &#x26; <code>pull</code> from the remote repository and collaborate with others</li>\n<li>Think of git or VCS as taking snapshots of your code at a specific place in time. Because you made that snapshot you can return to it at a later date or view how an application has progressed in time</li>\n<li>Think of it as this, you can always roll back to something you have commited but if you didn't commit it that history is gone</li>\n<li>Git basically works at a base folder and it tracks all of the files nested within that folder.</li>\n</ul>\n<details>\n<summary>Git overview</summary>\n<h2>Installation</h2>\n<ul>\n<li>Git is installed by default on all macOS, however it's quite recomended to use <a href=\"https://formulae.brew.sh/formula/git#default\">Homebrew</a> if you want to install a different version</li>\n<li>Windows, navigate to the latest <a href=\"https://gitforwindows.org/\">Git for Windows</a> installer and download the latest version.</li>\n<li>Git was originally developed to version the Linux operating system! So, it only makes sense that it is easy to configure to run on Linux. You can install Git on Linux through the package management tool that comes with your distribution. Example using Debian/Ubuntu distro: <code>$ sudo apt-get update &#x26;&#x26; apt-get install git-all</code></li>\n<li>Now open your terminal and run:\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">git</span> version \n</code></pre></div>\n</li>\n</ul>\n<h2>Getting started</h2>\n<ul>\n<li>After you have Git installed you can start using it!</li>\n<li>Let's setup your profile. Your config can be [system, global, local]\n<ul>\n<li><code>System</code>, these are available for every user in the system. Stored in <code>/etc/gitconfig</code></li>\n<li><code>Global</code>, available for the current user for all the git projects. Store in <code>~/.gitconfig</code> or<code> ~/.config/git/config</code></li>\n<li><code>Local</code>, available for the current repository only. Stored in <code>[gitrepo]/.git/config</code></li>\n</ul>\n</li>\n<li>Priority: <code>Local</code> > <code>Global</code> > <code>System</code></li>\n<li>Example:\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">Create a <span class=\"token builtin class-name\">local</span> config\n$ <span class=\"token function\">git</span> config --local user.name <span class=\"token string\">\"Local User\"</span>\n\n<span class=\"token comment\"># Create a global config</span>\n$ <span class=\"token function\">git</span> config --global user.name <span class=\"token string\">\"Global User\"</span>\n\n<span class=\"token comment\"># Create a system config</span>\n$ <span class=\"token function\">sudo</span> <span class=\"token function\">git</span> config --system user.name <span class=\"token string\">\"System User\"</span>\n</code></pre></div>\n</li>\n<li>You can always see how you settings are configured\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">cat</span> ~/.gitconfig \n</code></pre></div>\n</li>\n<li>You might get something like this:\n<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\">[init]\n  defaultBranch = main\n[user]\n  name = Phil Willis\n  email = p******@gmail.com</code></pre></div>\n</li>\n<li>Let's initialize it in a folder:\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Make a new folder</span>\n$ <span class=\"token function\">mkdir</span> ~/Documents/hello-git <span class=\"token operator\">&#x26;&#x26;</span> <span class=\"token variable\">$_</span>\n\n<span class=\"token comment\"># Initialize git</span>\n$ <span class=\"token function\">git</span> init\n</code></pre></div>\n</li>\n<li>You should now have a <code>.git</code> folder. (on macOS files that start with a dot are called dotfiles and are hidden by default)</li>\n<li>When you start you're either going to <code>$ git init</code> or <code>$ git clone git@github.com:&#x3C;NAME_SPACE>/&#x3C;PROJECT_NAME>.git</code></li>\n</ul>\n<h2>Basic commands:</h2>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">git</span> init\n$ <span class=\"token function\">git</span> clone\n\n$ <span class=\"token function\">git</span> fetch\n$ <span class=\"token function\">git</span> fetch origin main:main\n$ <span class=\"token function\">git</span> pull\n$ <span class=\"token function\">git</span> push\n\n$ <span class=\"token function\">git</span> status\n$ <span class=\"token function\">git</span> <span class=\"token function\">add</span>\n$ <span class=\"token function\">git</span> commit\n\n$ <span class=\"token function\">git</span> stash list\n$ <span class=\"token function\">git</span> stash save <span class=\"token operator\">&#x3C;</span>NOTE<span class=\"token operator\">></span>\n$ <span class=\"token function\">git</span> stash save -u <span class=\"token operator\">&#x3C;</span>NOTE<span class=\"token operator\">></span>\n$ <span class=\"token function\">git</span> stash save --include-untracked <span class=\"token operator\">&#x3C;</span>NOTE<span class=\"token operator\">></span>\n\n$ <span class=\"token function\">git</span> merge <span class=\"token operator\">&#x3C;</span>BRANCH_NAME<span class=\"token operator\">></span>\n$ <span class=\"token function\">git</span> rebase <span class=\"token operator\">&#x3C;</span>BRANCH_NAME<span class=\"token operator\">></span>\n\n$ <span class=\"token function\">git</span> checkout -b <span class=\"token operator\">&#x3C;</span>NEW_BRANCH_NAME<span class=\"token operator\">></span>\n$ <span class=\"token function\">git</span> checkout <span class=\"token operator\">&#x3C;</span>EXISTING_BRANCH_NAME<span class=\"token operator\">></span>\n$ <span class=\"token function\">git</span> branch -d <span class=\"token operator\">&#x3C;</span>BRANCH_NAME_TO_DELETE<span class=\"token operator\">></span>\n\n\n$ <span class=\"token function\">git</span> tag <span class=\"token operator\">&#x3C;</span>TAG_NAME<span class=\"token operator\">></span>\n$ <span class=\"token function\">git</span> push --tags\n\n$ <span class=\"token function\">git</span> reset HEAD\n$ <span class=\"token function\">git</span> reset -- <span class=\"token operator\">&#x3C;</span>SOME_FILENAME<span class=\"token operator\">></span>\n$ <span class=\"token function\">git</span> checkout <span class=\"token builtin class-name\">.</span>\n$ <span class=\"token function\">git</span> clean -fd\n\n$ <span class=\"token function\">git</span> merge --squash <span class=\"token operator\">&#x3C;</span>BRANCH_NAME<span class=\"token operator\">></span>\n\n$ <span class=\"token function\">git</span> log\n\n$ <span class=\"token function\">git</span> <span class=\"token function\">diff</span> --staged\n$ <span class=\"token function\">git</span> <span class=\"token function\">diff</span> <span class=\"token operator\">&#x3C;</span>BRANCH_<span class=\"token operator\"><span class=\"token file-descriptor important\">1</span>></span> <span class=\"token operator\">&#x3C;</span>BRANCH_<span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span>\n</code></pre></div>\n<h2>Git Commands</h2>\n<ul>\n<li>\n<p>Create</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Clone a repo</span>\n$ <span class=\"token function\">git</span> clone git@github.com:mapbox/mapbox-gl-js.git\n\n<span class=\"token comment\"># Create a new repo</span>\n$ <span class=\"token function\">git</span> init\n\n<span class=\"token comment\"># Create remote repo (with the Github CLI)</span>\n$ gh repo create cli/my-project\n</code></pre></div>\n</li>\n<li>\n<p>Local changes</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">git</span> status\n$ <span class=\"token function\">git</span> <span class=\"token function\">diff</span>\n$ <span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span>\n$ <span class=\"token function\">git</span> <span class=\"token function\">add</span> -p <span class=\"token operator\">&#x3C;</span>file<span class=\"token operator\">></span>\n$ <span class=\"token function\">git</span> commit -m <span class=\"token string\">'some message'</span>\n\n<span class=\"token comment\"># Change the last commit (don't amend published commits)</span>\n$ <span class=\"token function\">git</span> commit -amend -m <span class=\"token string\">'replace last commit message'</span>\n\n<span class=\"token comment\"># Change the last commit with stage items</span>\n$ <span class=\"token function\">git</span> commit -amend -m <span class=\"token string\">'staged files will be added to the last commit'</span>\n</code></pre></div>\n</li>\n<li>\n<p>Commit history</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">git</span> log\n$ <span class=\"token function\">git</span> log -p <span class=\"token operator\">&#x3C;</span>file<span class=\"token operator\">></span>\n<span class=\"token comment\"># *use `:q` to close the log*</span>\n</code></pre></div>\n</li>\n<li>\n<p>Branches</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># List all existing branches</span>\n$ <span class=\"token function\">git</span> branch -av\n\n$ <span class=\"token function\">git</span> checkout <span class=\"token operator\">&#x3C;</span>branch_name<span class=\"token operator\">></span>\n$ <span class=\"token function\">git</span> checkout -b <span class=\"token operator\">&#x3C;</span>new_branch_name<span class=\"token operator\">></span>\n$ <span class=\"token function\">git</span> checkout --track <span class=\"token operator\">&#x3C;</span>remote/branch<span class=\"token operator\">></span>\n\n<span class=\"token comment\"># Delete branch</span>\n$ <span class=\"token function\">git</span> branch -d <span class=\"token operator\">&#x3C;</span>branch_to_delete<span class=\"token operator\">></span>\n</code></pre></div>\n<ul>\n<li>It's sometimes good to prefix a branch with <code>feat/</code>, <code>fix/</code></li>\n</ul>\n</li>\n<li>\n<p>Fetch code from a different branch without checking it out and pulling</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">git</span> fetch origin main:main\n$ <span class=\"token function\">git</span> rebase main\n</code></pre></div>\n</li>\n<li>\n<p>Tags</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">git</span> tag <span class=\"token operator\">&#x3C;</span>tag_name<span class=\"token operator\">></span>\n$ <span class=\"token function\">git</span> push --tags\n</code></pre></div>\n</li>\n<li>\n<p>Update &#x26; publish</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">git</span> remote show origin\n$ <span class=\"token function\">git</span> fetch origin\n$ <span class=\"token function\">git</span> pull origin <span class=\"token operator\">&#x3C;</span>remote_branch_name<span class=\"token operator\">></span>\n$ <span class=\"token function\">git</span> push origin <span class=\"token operator\">&#x3C;</span>branch_name<span class=\"token operator\">></span>\n$ <span class=\"token function\">git</span> checkout --track origin/this-rocks\n\n<span class=\"token comment\"># Pull branch that isn't checked out</span>\n$ <span class=\"token function\">git</span> fetch origin main:main\n\n<span class=\"token comment\"># Delete remote branch</span>\n$ <span class=\"token function\">git</span> branch -dr <span class=\"token operator\">&#x3C;</span>remote/branch<span class=\"token operator\">></span>\n</code></pre></div>\n</li>\n<li>\n<p>Rebase &#x26; Merge</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Rebase</span>\n$ <span class=\"token function\">git</span> rebase <span class=\"token operator\">&#x3C;</span>branch<span class=\"token operator\">></span>\n$ <span class=\"token function\">git</span> rebase --abort\n$ <span class=\"token function\">git</span> rebase --continue\n\n<span class=\"token comment\"># Merge &#x3C;branch> into your current HEAD</span>\n$ <span class=\"token function\">git</span> merge <span class=\"token operator\">&#x3C;</span>branch<span class=\"token operator\">></span>\n</code></pre></div>\n</li>\n<li>\n<p>Undo</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Reset all change files to last commit</span>\n$ <span class=\"token function\">git</span> checkout <span class=\"token builtin class-name\">.</span>\n\n<span class=\"token comment\"># Delete all newly added files (untracked) (think of `f` for files and `d` for directories) </span>\n$ <span class=\"token function\">git</span> clean -fd\n</code></pre></div>\n</li>\n<li>\n<p>Stash</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">git</span> stash list\n$ <span class=\"token function\">git</span> stash save <span class=\"token operator\">&#x3C;</span>message<span class=\"token operator\">></span>\n$ <span class=\"token function\">git</span> stash save <span class=\"token operator\">&#x3C;</span>message<span class=\"token operator\">></span> <span class=\"token operator\">&#x3C;</span>-u<span class=\"token operator\">|</span>--include-untracked<span class=\"token operator\">></span> \n\n$ <span class=\"token function\">git</span> stash list\n$ <span class=\"token function\">git</span> stash apply stash@<span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span>\n$ <span class=\"token function\">git</span> stash drop stash@<span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span>\n\n$ <span class=\"token function\">git</span> stash <span class=\"token function\">clear</span>\n</code></pre></div>\n</li>\n<li>\n<p>Unstage</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">git</span> reset HEAD\n$ <span class=\"token function\">git</span> reset -- <span class=\"token operator\">&#x3C;</span>SOME_FILENAME<span class=\"token operator\">></span>\n</code></pre></div>\n<ul>\n<li>This will unstage your code but not delete your changes</li>\n</ul>\n</li>\n<li>\n<p>Revert to last commit</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># reset to last commit</span>\n$ <span class=\"token function\">git</span> checkout <span class=\"token builtin class-name\">.</span>\n\n<span class=\"token comment\"># clean allows you to remove all the new untracked files</span>\n<span class=\"token comment\"># Clean check what gets removed first</span>\n$ <span class=\"token function\">git</span> clean -nfd\n$ <span class=\"token function\">git</span> clean -fd\n</code></pre></div>\n</li>\n<li>\n<p>Deleting # of commits</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">git</span> checkout <span class=\"token operator\">&#x3C;</span>BRANCH_WITH_COMMITS_TO_REMOVE<span class=\"token operator\">></span>\n$ <span class=\"token function\">git</span> reset --soft HEAD~<span class=\"token operator\">&#x3C;</span>NUMBER_OF_COMMITS_TO_DELETE<span class=\"token operator\">></span>. <span class=\"token comment\"># example: git reset --soft HEAD~2</span>\n\n<span class=\"token comment\"># Now if you update github</span>\n$ <span class=\"token function\">git</span> push origin +<span class=\"token operator\">&#x3C;</span>BRANCH_NAME<span class=\"token operator\">></span> --force <span class=\"token comment\"># make sure that you have `+` in front of the branch name</span>\n</code></pre></div>\n</li>\n<li>\n<p>Deleting remote commit &#x26; tags</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Move the head back 2 commits</span>\n$ <span class=\"token function\">git</span> reset --hard HEAD~2\n<span class=\"token comment\"># This will wipe out the last 2 commit (THIS IS VERY DESTRUCTIVE, use with caution)</span>\n$ <span class=\"token function\">git</span> push origin -f\n\n<span class=\"token comment\"># Delete the local tags</span>\n$ <span class=\"token function\">git</span> tag -d <span class=\"token operator\">&#x3C;></span>\n<span class=\"token comment\"># Delete the tags </span>\n$ <span class=\"token function\">git</span> push --delete origin v0.1\n</code></pre></div>\n</li>\n</ul>\n<h2>Merging vs. Rebase</h2>\n<ul>\n<li>\n<p>For integrating changes from another branch</p>\n</li>\n<li>\n<p>TL;DR, use <code>rebase</code> when the <code>main</code> branch is ahead of your feature branch. Use <code>merge</code> to merge PRs into the <code>main</code> branch</p>\n</li>\n<li>\n<p><code>Rebase</code> will add all of your branch commits infront of the rebased branch, most of the time the <code>main</code> branch</p>\n</li>\n<li>\n<p><code>Merge</code> can override your changes on your feature branch</p>\n</li>\n<li>\n<p>Both <code>Merging</code> &#x26; <code>Rebase</code> is a process of integrating changes from one branch to another</p>\n</li>\n<li>\n<p><code>Merging</code> preserves the branch history, it is used to combine public branches</p>\n</li>\n<li>\n<p><code>Rebase</code> does <em>not</em> preserve the branch history, and is used for combining private branches</p>\n</li>\n<li>\n<p>Merging example</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">git</span> checkout main\n$ <span class=\"token function\">git</span> merge branch\n</code></pre></div>\n</li>\n<li>\n<p>Rebase example</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">git</span> checkout branch\n$ <span class=\"token function\">git</span> rebase main\n$ <span class=\"token function\">git</span> checkout main\n</code></pre></div>\n</li>\n<li>\n<p>fast-forward merge</p>\n</li>\n<li>\n<p>Tags</p>\n<ul>\n<li>On Git, tags are often used in order to tag specific commits that may be more important than others.</li>\n<li>Tags may be used in order to bookmark certain events : releases, bug-fixes or just to add an informative and descriptive note to a commit.</li>\n<li>On GitHub, tags are often associated with actual product releases for example.\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Create a tag</span>\n$ <span class=\"token function\">git</span> tag -a -m <span class=\"token string\">\"Added terraform action\"</span> <span class=\"token operator\">&#x3C;</span>TAG_NAME<span class=\"token operator\">></span>\n$ <span class=\"token function\">git</span> tag -a -m <span class=\"token string\">\"Added terraform action\"</span> v0.1\n\n<span class=\"token comment\"># Push a tag to the remote repo</span>\n$ <span class=\"token function\">git</span> push --follow-tags\n\n<span class=\"token comment\"># List tags</span>\n$ <span class=\"token function\">git</span> tag -l\n\n<span class=\"token comment\"># Delete a local tag</span>\n$ <span class=\"token function\">git</span> tag -d <span class=\"token operator\">&#x3C;</span>TAG_NAME<span class=\"token operator\">></span>\n$ <span class=\"token function\">git</span> tag -d v0.1\n\n<span class=\"token comment\"># Delete a remote tag</span>\n$ <span class=\"token function\">git</span> push --delete origin <span class=\"token operator\">&#x3C;</span>TAG_NAME<span class=\"token operator\">></span>\n$ <span class=\"token function\">git</span> push --delete origin v0.1\n</code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>How To Set Upstream Branch on Git</p>\n<ul>\n<li>Upstream branches define the branch tracked on the remote repository by your local remote branch (also called the remote tracking branch)</li>\n</ul>\n</li>\n</ul>\n<h2>Updating a git commit message after it's been pushed</h2>\n<ul>\n<li>\n<p>When you commit somthing to git it's accompanied with a commit message that explains what changes were made</p>\n</li>\n<li>\n<p>If you need to update a message after it's been commited you can fix it with an <code>--amend</code> flag</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Changing the latest git commit message</span>\n$ <span class=\"token function\">git</span> commit --amend -m <span class=\"token string\">\"New message\"</span>\n\n<span class=\"token comment\"># Update the remote</span>\n$ <span class=\"token function\">git</span> push --force <span class=\"token operator\">&#x3C;</span>repository-name<span class=\"token operator\">></span> <span class=\"token operator\">&#x3C;</span>branch-name<span class=\"token operator\">></span>\n\n<span class=\"token comment\"># </span>\n$ <span class=\"token function\">git</span> push --force-with-lease <span class=\"token operator\">&#x3C;</span>repository-name<span class=\"token operator\">></span> <span class=\"token operator\">&#x3C;</span>branch-name<span class=\"token operator\">></span>\n</code></pre></div>\n</li>\n<li>\n<p><em>Note that the <code>--force</code> is not recommended unless you are absolutely sure that no one else has cloned your repository after the latest commit. It's probably best to use <code>--force-with-lease</code> flag because it will abort if there was an upstream change to the repository.</em></p>\n</li>\n<li>\n<p>If you want to update a commit in a past commit you need the sha value</p>\n</li>\n</ul>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># list the last three </span>\n</code></pre></div>\n<h2>Squash and merge</h2>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">git</span> checkout main\n$ <span class=\"token function\">git</span> merge --squash <span class=\"token operator\">&#x3C;</span>FEATURE_BRANCH<span class=\"token operator\">></span>\n$ <span class=\"token function\">git</span> commit\n</code></pre></div>\n</details>\n<h1>Github</h1>\n<ul>\n<li>Github is basically Git in the cloud, it allows you to collaborate with others</li>\n<li>You can make private and public repos in Github</li>\n<li>In your source code you can add some github config files in the <code>./.github</code> folder</li>\n<li>Some common files are:\n<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\">├── CODEOWNERS\n├── pull_request_template.md\n└── workflows\n    ├── build.yaml\n    └── deploy.yaml</code></pre></div>\n</li>\n<li><code>.github/workflows/</code> is where you put your Github actions yaml files</li>\n<li>Simple branch workflow</li>\n<li>lightweight, branch flow that support collaboration\n<ol>\n<li>Branch off of <code>main</code> and make your changes in parallel</li>\n</ol>\n<ul>\n<li>If the <code>main</code> branch has updates you want to <code>rebase</code> with main so that your changes remain in front</li>\n</ul>\n<ol start=\"2\">\n<li>When you <code>feature</code>/<code>bug-fix</code>/<code>enhancement</code> is done, make a <code>PR</code> (Pull Request) against the remote <code>main</code> branch</li>\n<li>Other collaborators can add their review and comments. More commit can happen as a result of conversation</li>\n<li>Once approved the PR can be merged (always <code>squash &#x26; merge</code>)</li>\n<li>You can delete your <code>feature</code>/<code>bug-fix</code>/<code>enhancement</code> branch</li>\n</ol>\n</li>\n<li>Where one can improve?\n<ul>\n<li>Add branch protection to <code>main</code> to prevent commits directly to the <code>main</code> branch</li>\n<li>Can add Continuous Integration</li>\n<li>We can add Continuous Deployment (on push or ) to a staging or production environment such as AWS/GCP/Azure</li>\n<li>We can customize our Github flow with Github Actions\n<ul>\n<li>on push -> lint, unit-test, integration test, e2e</li>\n<li>you can listen to event that happen to a repo, a schedule time, or event that happen outside of Github</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2>Github Topics</h2>\n<details>\n<summary>Github CLI Commands</summary>\n<ul>\n<li>Install Github CLI <code>$ brew install gh</code></li>\n<li><a href=\"https://cli.github.com/manual/\">Github CLI Docs</a>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ gh auth login\n\n<span class=\"token comment\"># Gist</span>\n$ gh gist create --public hello.js\n\n<span class=\"token comment\"># Repo</span>\n$ <span class=\"token function\">git</span> init my-project\n$ <span class=\"token builtin class-name\">cd</span> my-project\n$ gh repo create\n\n<span class=\"token comment\"># Create a repository with a specific name</span>\n$ gh repo create my-project\n\n<span class=\"token comment\"># Create a repository in an organization</span>\n$ gh repo create cli/my-project\n</code></pre></div>\n</li>\n</ul>\n</details>\n<details>\n<summary>Setting up multiple SSH keys</summary>\n<ul>\n<li>If you have 2+ Github accounts you will have to create a new SSH key for each account</li>\n</ul>\n<ol>\n<li>Create an SSH Key</li>\n</ol>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Create an rsa key</span>\n$ ssh-keygen -t rsa -C <span class=\"token string\">\"your@email.com\"</span>\n<span class=\"token comment\"># id_rsa_*</span>\n\n<span class=\"token comment\"># Add your SSH private key to the ssh-agent and store your passphrase in the keychain. </span>\n$ ssh-add ~/.ssh/id_rsa\n$ ssh-add ~/.ssh/id_rsa_second-gh\n\n<span class=\"token comment\"># List all the registers keys</span>\n$ ssh-add -l\n</code></pre></div>\n<ol start=\"2\">\n<li>Update your <code>~/.ssh/config</code> file</li>\n</ol>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\">#first-gh account</span>\nHost github.com\n  HostName github.com\n  IdentityFile ~/.ssh/id_rsa\n\n<span class=\"token comment\">#second-gh account</span>\nHost github.com-2\n  HostName github.com\n  IdentityFile ~/.ssh/id_rsa_second-gh\n</code></pre></div>\n<ol start=\"3\">\n<li>Add your public SSH key to github</li>\n</ol>\n<ul>\n<li>Click on your avatar in the top right of the page then click on \"SSH keys &#x26; GPG keys\" in the sidebar</li>\n<li>or click the <a href=\"https://github.com/settings/keys\">SSH keys &#x26; GPG keys link</a></li>\n<li>click the \"New\" button under the SSH Keys section</li>\n<li>copy your *.pub key and paste it</li>\n</ul>\n<ol start=\"4\">\n<li>Test your connections</li>\n</ol>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># test your connection</span>\n$ <span class=\"token function\">ssh</span> -T git@github.com\n<span class=\"token comment\"># Hi first-gh! You've successfully authenticated, but GitHub does not provide shell access.</span>\n\n$ <span class=\"token function\">ssh</span> -T git@github.com-2\n<span class=\"token comment\"># Hi second-gh! You've successfully authenticated, but GitHub does not provide shell access.</span>\n</code></pre></div>\n<ol start=\"5\">\n<li>Clone a repo</li>\n</ol>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Cloning from 1st account</span>\n$ git@github.com:first-gh/<span class=\"token operator\">&#x3C;</span>REPO_NAME<span class=\"token operator\">></span>.git\n\n<span class=\"token comment\"># Cloning for 2nd account </span>\n$ git@github.com-2:second-gh/<span class=\"token operator\">&#x3C;</span>REPO_NAME<span class=\"token operator\">></span>.git\n\n<span class=\"token comment\"># Update username/email</span>\n$ <span class=\"token function\">git</span> config user.name <span class=\"token string\">\"username\"</span>\n$ <span class=\"token function\">git</span> config user.email <span class=\"token string\">\"your@email.com\"</span> \n\n<span class=\"token comment\"># update the second remote origin</span>\n$ <span class=\"token function\">git</span> remote set-url origin git@github.com-2:username/<span class=\"token operator\">&#x3C;</span>REPO_NAME<span class=\"token operator\">></span>.git\n</code></pre></div>\n</details>\n<details>\n<summary>Git nagging about pass-phase</summary>\n<ul>\n<li>Just edit your <code>~/.ssh/config</code> and enable the <code>UseKeychain</code> option:\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">Host *\n    UseKeychain <span class=\"token function\">yes</span>\n</code></pre></div>\n</li>\n</ul>\n</details>\n<details>\n<summary>The `./.github/` folder</summary>\n<!-- https://www.freecodecamp.org/news/how-to-use-the-dot-github-repository/ -->\n<ul>\n<li>GitHub has many special repositories. For instance, you can create a repository that matches your username, add a README file to it, and all the information in that file will be visible on your GitHub profile.</li>\n<li>You might already be familiar with the <code>.github</code> directory you'll find in many repositories. The <code>.github</code> directory houses:\n<ul>\n<li><code>FUNDING.yml</code> -> Supporting a project</li>\n<li><code>ISSUE_TEMPLATE</code> -> Folder that contains a templates of possible issues user can use to open issue (such as if issue is related to documentation, if it's a bug, if user wants new feature etc) P.S. Take a look at tensorflow <a href=\"https://github.com/tensorflow/tensorflow/tree/f3fd82f65724cdba600fdd23d251c2b01152ed3c/.github/ISSUE_TEMPLATE\">ISSUE_TEMPLATE</a></li>\n<li><code>PULL_REQUEST_TEMPLATE.md</code> -> How to make a pull request to project</li>\n<li><code>stale.yml</code> -> Probot configuration to close stale issues. There are many other apps on Github Marketplace that place their configurations inside <code>.github</code> folder because they are related to GitHub specifically.</li>\n<li><code>SECURITY.md</code> -> How to responsibly report a security vulnerability in project</li>\n<li><code>./workflows/</code> -> Configuration folder containing yaml files for GitHub Actions</li>\n<li><code>CODEOWNERS</code> -> Pull request reviewer rules.</li>\n<li><code>dependabot.yml</code> -> Configuration options for dependency updates. More info <a href=\"https://docs.github.com/en/code-security/supply-chain-security/keeping-your-dependencies-updated-automatically/configuration-options-for-dependency-updates\">here</a>.</li>\n</ul>\n</li>\n<li>But another special repository you can create is the <code>.github</code> repository. It acts as a fallback for all of your repositories that don't have an actual .<code>github</code> directory with issue templates and other community health files.</li>\n<li>For example, say I have a repository named <code>.github</code> with generic bug report and feature request issue templates. And say I create another repository called <code>new-project</code>, <strong>but I don't add a .github directory</strong> with issue templates to it.</li>\n</ul>\n</details>\n<details>\n<summary>Code Owners</summary>\n<ul>\n<li><a href=\"https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/about-code-owners\">docs</a></li>\n<li>People with admin or owner permissions can set up a CODEOWNERS file in a repository.</li>\n<li>Team must be visible and it must have write permissions regardless if the individuals in that team has admin access</li>\n<li>GitHub codeowners is implemented as a single file <code>.github/CODEOWNERS</code> in your repository</li>\n<li>Whenever a pull request is opened, GitHub will automatically check all changed files and check each codeowners rule, the owners are added as reviewers.</li>\n<li>Adding <code>@user &#x26; @teams</code> should be added on the same line</li>\n<li>Someone from each line needs to approve the PR to make it valid</li>\n<li>Order is important, the last matching pattern takes the most precedence.\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Lines starting with '#' are comments.</span>\n<span class=\"token comment\"># Each line is a file pattern followed by one or more owners.</span>\n\n<span class=\"token comment\"># These owners will be the default owners for everything in the repo.</span>\n*       @philopian\n\n<span class=\"token comment\"># Order is important. The last matching pattern has the most precedence.</span>\n<span class=\"token comment\"># So if a pull request only touches javascript files, only these owners</span>\n<span class=\"token comment\"># will be requested to review.</span>\n*.js    @octocat @github/js\n\n<span class=\"token comment\"># You can also use email addresses if you prefer.</span>\ndocs/*  docs@example.com\n</code></pre></div>\n</li>\n<li>Syntax exceptions\n<ul>\n<li>There are some syntax rules for gitignore files that do not work in CODEOWNERS files:</li>\n<li>Escaping a pattern starting with <code>#</code> using <code>\\</code> so it is treated as a pattern and not a comment</li>\n<li>Using <code>!</code> to negate a pattern</li>\n<li>Using <code>[ ]</code> to define a character range</li>\n</ul>\n</li>\n<li>Add extra layer of code security\n<img src=\"/assets/blog/github/github-security-1.jpg\" alt=\"\"></li>\n<li>With protected branches enabled, a code owner for each owned file has to leave a review before anyone can merge a pull request to that branch.\n<img src=\"/assets/blog/github/github-security-2.jpg\" alt=\"\"></li>\n</ul>\n</details>\n<details>\n<summary>Dependabot</summary>\n<ul>\n<li><a href=\"https://docs.github.com/en/code-security/dependabot/\">Dependabot docs</a></li>\n<li>Dependabot alerts you to keep all your dependencies updated</li>\n<li>Dependabot can now inform you of version updates</li>\n<li>To enable version updates, check a <code>.github/dependabot.yml</code> configuration file into your repository.</li>\n<li>Your configuration file tells Dependabot the kind of dependency you want to update (like Go modules or npm packages), where the dependency manifest is located, and how often you want Dependabot to look for updates</li>\n<li>On the schedule you specify, Dependabot will check if new versions are available.</li>\n<li>If updates are available, Dependabot sends pull requests to update your dependency manifest with the new versions.</li>\n<li>Simple example for nodejs\n<div class=\"remark-highlight\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token comment\"># Basic dependabot.yml file with</span>\n<span class=\"token comment\"># minimum configuration for two package managers</span>\n\n<span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span>\n<span class=\"token key atrule\">updates</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># Enable version updates for npm</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">package-ecosystem</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"npm\"</span>\n    <span class=\"token comment\"># Look for `package.json` and `lock` files in the `root` directory</span>\n    <span class=\"token key atrule\">directory</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/\"</span>\n    <span class=\"token comment\"># Check the npm registry for updates every day (weekdays)</span>\n    <span class=\"token key atrule\">schedule</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">interval</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"daily\"</span>\n</code></pre></div>\n</li>\n</ul>\n</details>\n<details>\n<summary>Fork & create a PR to a public repo</summary>\n<ul>\n<li>If you want to contribute to a repo but your are not a contributor you need to <code>fork</code> the repo\n<img src=\"/assets/blog/github/fork_01.jpg\" alt=\"\"></li>\n<li>Your new repo should be:<your-github-namespace>/<forked-repo-name></li>\n<li>Clone it and work on it like you would normally ($ git checkout -b some-edits, $ git add, $ git commit, ...)</li>\n<li>Finally, when you <code>$ git push</code>, <code>git push --set-upstream origin &#x3C;branch-name></code>,  those changes back up to <strong>your fork</strong> of your colleague’s repository.</li>\n<li>Now the changes are in your forked repo, but you want to add then to your colleagues's repo. All you have to do is submit a pull request with the changes. This happens in the UI\n<img src=\"/assets/blog/github/fork-git-push-pr.png\" alt=\"\"></li>\n</ul>\n</details>\n<details>\n<summary>PR Templates</summary>\n<ul>\n<li>All you have to do is create a file <code>.github/pull_request_template.md</code>\n<div class=\"remark-highlight\"><pre class=\"language-md\"><code class=\"language-md\"><span class=\"token comment\">&#x3C;!--- Provide Ticket issue as [&#x3C;number>] and a general summary of your changes in the Title above --></span>\n\n<span class=\"token title important\"><span class=\"token punctuation\">#</span> Description</span>\n<span class=\"token comment\">&#x3C;!--- Why is this change required? What problem does it solve? --></span>\n\n<span class=\"token title important\"><span class=\"token punctuation\">##</span> This pull request includes</span>\n\n<span class=\"token list punctuation\">-</span> [ ] Feature\n<span class=\"token list punctuation\">-</span> [ ] Bug Fix\n<span class=\"token list punctuation\">-</span> [ ] Documentation Update\n<span class=\"token list punctuation\">-</span> [ ] Maintenance\n<span class=\"token list punctuation\">-</span> [ ] Metrics\n<span class=\"token list punctuation\">-</span> [ ] Tests\n\n<span class=\"token title important\"><span class=\"token punctuation\">##</span> The following changes were made</span>\n<span class=\"token comment\">&#x3C;!--- List your changes in detail --></span>\n\n<span class=\"token title important\"><span class=\"token punctuation\">##</span> Expected behavior</span>\n<span class=\"token comment\">&#x3C;!--- List expected behavior --></span>\n\n<span class=\"token title important\"><span class=\"token punctuation\">##</span> Steps to reproduce expected behavior</span>\n<span class=\"token comment\">&#x3C;!--- List steps to reproduce expected behavior --></span>\n</code></pre></div>\n</li>\n<li>Push it up to github</li>\n</ul>\n</details>\n<details>\n<summary>Github Pages</summary>\n<ul>\n<li>You can build a static site and have it hosted on GitHub Pages with a few configurations to the codebase and the github repository’s settings.</li>\n<li>This example expects that you are using npm for your development/deployment</li>\n</ul>\n<h2>Setup Github Pages</h2>\n<ol>\n<li>Create a new repo in Github</li>\n</ol>\n<ul>\n<li>Make sure that it's a <code>Public</code> repo</li>\n</ul>\n<ol start=\"2\">\n<li>Install the <a href=\"https://www.npmjs.com/package/gh-pages\">gh-pages</a> npm package</li>\n</ol>\n<ul>\n<li>Install gh-pages:\n<div class=\"remark-highlight\"><pre class=\"language-sh\"><code class=\"language-sh\">$ npm install gh-pages --save-dev</code></pre></div>\n</li>\n<li>Add a build/deploy script to your <code>package.json</code>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token string-property property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string-property property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"some-build-script\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"predeploy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"rm -rf ./public\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"deploy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"npm run build &#x26;&#x26; gh-pages -d public\"</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n</li>\n<li>The <code>-d public</code> you're telling <code>gh-pages</code> where the build source code lives</li>\n<li>When you run npm run deploy all contents of the <code>public</code> folder will be moved to your repository’s gh-pages branch.</li>\n<li><strong>note</strong>: <em>With npm scripts if you prefix the scripts key name with <code>pre</code> it will run before the command and <code>post</code> it will run after</em></li>\n</ul>\n<ol start=\"3\">\n<li>Update setting for GithubPages</li>\n</ol>\n<ul>\n<li>You must select which branch will be deployed from your repository settings in GitHub for GitHub Pages to function.</li>\n<li>The nice thing about the <code>gh-pages</code> npm package is that it will create a <code>gh-pages</code> branch and wire it up for you</li>\n<li>Navigate to your repo then click [<code>Settings</code> > Scroll down to the <code>GitHub Pages</code> Section]\n<img src=\"/assets/blog/gh-pages-screenshot.png\" alt=\"\"></li>\n<li>It's ok to keep the path as <code>/ (root)</code> because the when you run <code>gh-pages -d public</code> it take the contents of the <code>public</code> folder and saves it to the root of the <code>gh-pages</code> branch</li>\n</ul>\n<ol start=\"4\">\n<li>Publishing to GitHub Pages</li>\n</ol>\n<ul>\n<li>\n<p>All you need to do to publish to githubpages is to run the npm <code>deploy</code> script</p>\n<div class=\"remark-highlight\"><pre class=\"language-sh\"><code class=\"language-sh\">$ npm run deploy</code></pre></div>\n</li>\n<li>\n<p>If you are using <a href=\"https://vitejs.dev/guide/static-deploy.html#github-pages\">Vitejs</a> you're gonna wanna update the vite config</p>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> <span class=\"token function\">defineConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token function\">react</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">base</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/YOUR_REPO_NAME/\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">resolve</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">alias</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string-property property\">\"@\"</span><span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"./src\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">build</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">outDir</span><span class=\"token operator\">:</span> <span class=\"token string\">\"build\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">server</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">port</span><span class=\"token operator\">:</span> <span class=\"token number\">3030</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">preview</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">port</span><span class=\"token operator\">:</span> <span class=\"token number\">8080</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n</li>\n<li>\n<p>If you want the Github Pages to the <code>https://&#x3C;GITHUB_USERNAME>.github.io/</code> you just need to name the repo <code>&#x3C;GITHUB_USERNAME>.github.io</code>. If you don't name your repo <code>&#x3C;GITHUB_USERNAME>.github.io</code>, you can access your Github Page at  <code>https://&#x3C;GITHUB_USERNAME>.github.io/</code>&#x3C;REPO_NAME>`/.</p>\n</li>\n<li>\n<p>Your static page should live: https://<code>&#x3C;GITHUB_USERNAME></code>.github.io/<code>&#x3C;REPO_NAME></code>/.</p>\n</li>\n<li>\n<p><em>You might have to clear your cache to see the new changes</em></p>\n</li>\n</ul>\n<h2>Publish with Github Actions</h2>\n<ul>\n<li>GitHub automatically creates a <code>GITHUB_TOKEN</code> secret to use in your workflow. You can use the <code>GITHUB_TOKEN</code> to authenticate in a workflow run.</li>\n<li>OR you can create a <a href=\"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token\">Personal Access Token</a></li>\n</ul>\n<ol>\n<li>Create a personal access token</li>\n</ol>\n<ul>\n<li>\n<p>click the avatar > profile > <code>Developer settings</code> > <code>Personal access token</code> or https://github.com/settings/tokens</p>\n</li>\n<li>\n<p>note: <code>&#x3C;repo_name> for github actions</code></p>\n</li>\n<li>\n<p><code>Repository access</code> -> <code>Only select repositories</code> -> select your specific repo</p>\n</li>\n<li>\n<p><code>Permissions</code> -> <code>Actions</code> -> <code>Read and Write</code></p>\n</li>\n<li>\n<p><code>Permissions</code> -> <code>Deployments</code> -> <code>Read and Write</code></p>\n</li>\n<li>\n<p><code>Permissions</code> -> <code>Pages</code> -> <code>Read and Write</code></p>\n</li>\n<li>\n<p><code>Permissions</code> -> <code>Secrets</code> -> <code>Read</code></p>\n</li>\n<li>\n<p><strong>Make sure to copy your personal access token now as you will not be able to see this again.</strong></p>\n</li>\n</ul>\n<ol start=\"2\">\n<li>In your repo settings -> Secrets -> Actions</li>\n</ol>\n<ul>\n<li>Add a <code>New repository secret</code> as whatever you define the name as in your Github Action file. e.g. <code>GH_REPO_TOKEN</code></li>\n<li>e.g. in the Actions file <code>${{ secrets.GH_REPO_TOKEN }}</code></li>\n</ul>\n</details>\n<details>\n<summary>branch protection</summary>\n<ul>\n<li>settings > Branches > \"Protect matching branches\"\n<ul>\n<li>you can define how many approvers you need</li>\n</ul>\n</li>\n</ul>\n</details>\n<details>\n<summary>Release</summary>\n<ul>\n<li><a href=\"https://docs.github.com/en/repositories/releasing-projects-on-github/about-releases\">About releases</a></li>\n</ul>\n</details>\n<details>\n<summary>Auto release notes</summary>\n<ul>\n<li><a href=\"https://docs.github.com/en/repositories/releasing-projects-on-github/automatically-generated-release-notes\">Read more here</a></li>\n</ul>\n</details>\n<details>\n<summary>tags</summary>\n<ul>\n<li><a href=\"https://docs.github.com/en/repositories/releasing-projects-on-github/viewing-your-repositorys-releases-and-tags\">More on tags</a></li>\n</ul>\n</details>\n<details>\n<summary>issues</summary>\n<ul>\n<li>Issues let you track your work on GitHub, where development happens.</li>\n<li><a href=\"https://docs.github.com/en/issues\">read more here</a></li>\n</ul>\n</details>\n<details>\n<summary>Pull Request</summary>\n<ul>\n<li>\n<p>Pull Request Filters</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">is:pr is:closed \nis:open is:pr author:@me \nis:closed is:pr author:@me \n</code></pre></div>\n</li>\n</ul>\n</details>\n<details>\n<summary>Webhooks</summary>\n<ul>\n<li>Webhooks allow external services to be notified when certain events happen. When the specified events happen, we’ll send a POST request to each of the URLs you provide. Learn more in our <a href=\"https://docs.github.com/en/developers/webhooks-and-events/webhooks/about-webhooks\">Webhooks Guide</a>.</li>\n</ul>\n</details>\n<details>\n<summary>Environments</summary>\n<ul>\n<li>You can configure environments with protection rules and secrets. <a href=\"https://docs.github.com/en/actions/deployment/targeting-different-environments/using-environments-for-deployment\">Learn more.</a></li>\n</ul>\n</details>\n<details>\n<summary>Secrets</summary>\n<ul>\n<li>There are 2 level of adding Secrets to you Github account:\n<ol>\n<li>Org or Account level</li>\n<li>Project level</li>\n</ol>\n</li>\n<li>Adding Secrets go to your repo -> Settings -> Under General go to <code>Secrets</code></li>\n</ul>\n<p><img src=\"/assets/blog/github/github-secrets.jpg\" alt=\"github-secrets\"></p>\n<ul>\n<li>You can add secrets to <code>Github Actions</code>, <code>Codespaces</code>, <code>Dependabot</code></li>\n</ul>\n</details>\n<details>\n<summary>Github REST API</summary>\n<ul>\n<li><a href=\"https://docs.github.com/en/rest/reference\">REST API Reference</a></li>\n</ul>\n<ol>\n<li>Create a <code>New personal access token</code></li>\n</ol>\n<ul>\n<li>Go to <a href=\"https://github.com/settings/tokens/new?scopes=repo\">Github Developer settings</a></li>\n</ul>\n<ol start=\"2\">\n<li>Create a dotenv file in your repo root</li>\n</ol>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># file name: `.env`</span>\n<span class=\"token assign-left variable\">GH_PERSONAL_ACCESS_TOKEN</span><span class=\"token operator\">=</span><span class=\"token string\">'&#x3C;YOUR_ACCESS_TOKEN>'</span>\n</code></pre></div>\n<ol start=\"3\">\n<li>Install <code>@octokit/rest</code></li>\n</ol>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">npm</span> init -y\n$ <span class=\"token function\">npm</span> i @octokit/rest dotenv\n</code></pre></div>\n<ol start=\"4\">\n<li>Write your code</li>\n</ol>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dotenv'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">config</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token maybe-class-name\">Octokit</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@octokit/core'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// ===== SETUP =============</span>\n<span class=\"token comment\">// Create a personal access token at https://github.com/settings/tokens/new?scopes=repo</span>\n<span class=\"token keyword\">const</span> octokit <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Octokit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">auth</span><span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span><span class=\"token property-access\">env</span><span class=\"token punctuation\">.</span><span class=\"token constant\">GH_PERSONAL_ACCESS_TOKEN</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// ===== SETUP =============</span>\n\n<span class=\"token comment\">// One way of getting </span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getRepos</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">org</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> repos <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> octokit<span class=\"token punctuation\">.</span><span class=\"token property-access\">rest</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">repos</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">listForOrg</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    org<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">sort</span><span class=\"token operator\">:</span> <span class=\"token string\">'full_name'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">per_page</span><span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'internal'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword control-flow\">return</span> repos<span class=\"token punctuation\">.</span><span class=\"token property-access\">data</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">repo</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> repo<span class=\"token punctuation\">.</span><span class=\"token property-access\">name</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Another way to get list of repos</span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">listRepos</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">org</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> octokit<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">request</span><span class=\"token punctuation\">(</span><span class=\"token string\">'GET /orgs/{org}/repos'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    org<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">per_page</span><span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">page</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> repos <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span><span class=\"token property-access\">data</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> item<span class=\"token punctuation\">.</span><span class=\"token property-access\">name</span><span class=\"token punctuation\">)</span>\n  <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span>repos<span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// TODO: if the `response.data.length >= 100` make a call for the next page</span>\n  <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span><span class=\"token property-access\">data</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">length</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword control-flow\">return</span> repos\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Access files</span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getFile</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">owner<span class=\"token punctuation\">,</span> repo<span class=\"token punctuation\">,</span> path</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword control-flow\">return</span> octokit<span class=\"token punctuation\">.</span><span class=\"token property-access\">rest</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">repos</span>\n    <span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getContent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> owner<span class=\"token punctuation\">,</span> repo<span class=\"token punctuation\">,</span> path <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token method function property-access\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">file</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token maybe-class-name\">Buffer</span><span class=\"token punctuation\">.</span><span class=\"token keyword module\">from</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">.</span><span class=\"token property-access\">data</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">content</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'base64'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">toString</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ascii'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">dependencies</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">org</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> repos <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> <span class=\"token function\">getRepos</span><span class=\"token punctuation\">(</span>org<span class=\"token punctuation\">)</span>\n  <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'repos'</span><span class=\"token punctuation\">,</span> repos<span class=\"token punctuation\">)</span>\n\n  repos<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">repo</span> <span class=\"token arrow operator\">=></span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword control-flow\">try</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> <span class=\"token keyword\">package</span> <span class=\"token operator\">=</span> <span class=\"token known-class-name class-name\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">parse</span><span class=\"token punctuation\">(</span><span class=\"token keyword control-flow\">await</span> <span class=\"token function\">getFile</span><span class=\"token punctuation\">(</span>org<span class=\"token punctuation\">,</span> repo<span class=\"token punctuation\">,</span> <span class=\"token string\">'package.json'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">package</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">dependencies</span><span class=\"token punctuation\">)</span> <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">package</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">dependencies</span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">package</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">devDependencies</span><span class=\"token punctuation\">)</span> <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">package</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">devDependencies</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword control-flow\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> orgName <span class=\"token operator\">=</span> <span class=\"token string\">'...'</span>\n<span class=\"token function\">dependencies</span><span class=\"token punctuation\">(</span>orgName<span class=\"token punctuation\">)</span>\n</code></pre></div>\n</details>\n<details>\n<summary>Github GRAPH QL</summary>\n<ul>\n<li><a href=\"https://github.com/octokit/graphql.js\">docs</a></li>\n<li>Playing with the GraphQL Explorer\n<ol>\n<li>Got to the online <a href=\"https://docs.github.com/en/graphql/overview/explorer\">Graph QL explorer</a></li>\n<li>Click the <code>Sign in with Github</code> button (Authorize GraphQL API Explorer) if it's your first time</li>\n<li>In the GraphiQL click the <code>Explorer</code> button to see your options</li>\n</ol>\n</li>\n<li>example:\n<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\">query { \n  viewer { \n    login\n  }\n}</code></pre></div>\n</li>\n</ul>\n</details>\n<h2>Github Actions</h2>\n<ul>\n<li>Github Actions allows you to automate workflows that happen in your github repository base on event triggers you define in a YAML file</li>\n<li>You must store workflow files in the <code>.github/workflows</code> directory of your repository, currently you cannot have nested folder under <code>workflows</code>.</li>\n<li>Workflow files use YAML syntax, and must have either a .yml or .yaml file extension.</li>\n<li><code>Github Actions</code> works off of <a href=\"https://docs.github.com/en/actions/reference/events-that-trigger-workflows\">event triggers</a> &#x26; defined with the <code>on: </code> block in your YAML file</li>\n<li>Available <code>events trigger</code> workflows:\n<ul>\n<li>branch_protection_rule</li>\n<li>check_run</li>\n<li>check_suite</li>\n<li>create</li>\n<li>delete</li>\n<li>deployment</li>\n<li>deployment_status</li>\n<li>discussion</li>\n<li>discussion_comment</li>\n<li>fork</li>\n<li>gollum</li>\n<li>issue_comment</li>\n<li>issues</li>\n<li>label</li>\n<li>milestone</li>\n<li>page_build</li>\n<li>project</li>\n<li>project_card</li>\n<li>project_column</li>\n<li>public</li>\n<li>pull_request</li>\n<li>pull_request_comment (use issue_comment)</li>\n<li>pull_request_review</li>\n<li>pull_request_review_comment</li>\n<li>pull_request_target</li>\n<li>push</li>\n<li>registry_package</li>\n<li>release</li>\n<li>repository_dispatch</li>\n<li>schedule</li>\n</ul>\n</li>\n<li>Common webhook events: <code>push</code>, <code>release</code>, <code>pull_request</code></li>\n<li>There is also <code>schedule</code>, <code>workflow_dispatch</code>, &#x26; <code>repository_dispatch</code></li>\n<li>Terms: <code>Events</code>, <code>Jobs</code>, <code>Runners</code>, <code>Steps</code>, <code>Actions</code></li>\n</ul>\n<h2>Github Actions Examples</h2>\n<details>\n<summary>Testing Github Actions on your local machine</summary>\n<ul>\n<li>Install <code>Act</code> with homebrew\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ brew <span class=\"token function\">install</span> act\n</code></pre></div>\n<ul>\n<li><a href=\"https://github.com/nektos/act\">nektos/act</a> and docker</li>\n<li>This tool requires that you use a <code>runs-on: ubuntu-latest</code> and not a <code>runs-on: self-hosted</code>\n<code> ~/.actrc</code></li>\n</ul>\n</li>\n<li>Make sure you have a <code>./.github/workflows/*.yml</code> file(s)</li>\n<li>Run Github Actions locally\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Make sure that Docker Desktop is opened</span>\n$ act --container-architecture linux/amd64\n</code></pre></div>\n</li>\n</ul>\n</details>\n<details>\n<summary>Github Actions runners</summary>\n<ul>\n<li>\n<p>GitHub offers hosted virtual machines to run workflows or you can provide your own</p>\n</li>\n<li>\n<p>GitHub offers runners with Linux, Windows, and macOS operating systems.</p>\n</li>\n<li>\n<p>When you use a GitHub-hosted runner, machine maintenance and upgrades are taken care of for you. You can run workflows directly on the virtual machine or in a Docker container.</p>\n</li>\n<li>\n<p><strong>Github hosted runner</strong>:</p>\n<div class=\"remark-highlight\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># ...</span>\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">some_job</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n</code></pre></div>\n</li>\n<li>\n<p><a href=\"https://docs.github.com/en/actions/using-github-hosted-runners/\">docs</a></p>\n</li>\n<li>\n<p><strong>Self-hosted runners</strong></p>\n</li>\n<li>\n<p>You can also host your own <code>self-hosted runners</code>, more <a href=\"https://docs.github.com/en/actions/hosting-your-own-runners/\">here</a></p>\n</li>\n<li>\n<p>Self-hosted runners using the <code>runs-on</code></p>\n</li>\n<li>\n<p>You can host your own runners and customize the environment used to run jobs in your GitHub Actions workflows.</p>\n<div class=\"remark-highlight\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># ...</span>\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">some_job</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> self<span class=\"token punctuation\">-</span>hosted\n</code></pre></div>\n</li>\n<li>\n<p><a href=\"https://github.blog/2019-11-05-self-hosted-runners-for-github-actions-is-now-in-beta/\">Blog post on self-hosted runners</a></p>\n</li>\n<li>\n<p>If you don't make a self-hosted runner you are using a shared infrastructure on Github</p>\n</li>\n<li>\n<p>Advantages of a self-hosted runner:</p>\n<ul>\n<li>Your environment, your tools</li>\n<li>Any size machine or configuration</li>\n<li>Secure access &#x26; networking</li>\n<li>Large workload support</li>\n</ul>\n</li>\n</ul>\n</details>\n<details>\n<summary>Github Action - Event triggers</summary>\n<ul>\n<li>Github Actions have a few events that trigger a workflow. Learn more <a href=\"https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows\">here</a></li>\n<li>Here are a list of current events:\n<ul>\n<li><code>branch_protection_rule</code></li>\n<li><code>check_run</code></li>\n<li><code>check_suite</code></li>\n<li><code>create</code></li>\n<li><code>delete</code></li>\n<li><code>deployment</code></li>\n<li><code>deployment_status</code></li>\n<li><code>discussion</code></li>\n<li><code>discussion_comment</code></li>\n<li><code>fork</code></li>\n<li><code>gollum</code></li>\n<li><code>issue_comment</code></li>\n<li><code>issues</code></li>\n<li><code>label</code></li>\n<li><code>merge_group</code></li>\n<li><code>milestone</code></li>\n<li><code>page_build</code></li>\n<li><code>project</code></li>\n<li><code>project_card</code></li>\n<li><code>project_column</code></li>\n<li><code>public</code></li>\n<li><code>pull_request</code></li>\n<li><code>pull_request_comment (use issue_comment)</code></li>\n<li><code>pull_request_review</code></li>\n<li><code>pull_request_review_comment</code></li>\n<li><code>pull_request_target</code></li>\n<li><code>push</code></li>\n<li><code>registry_package</code></li>\n<li><code>release</code></li>\n<li><code>repository_dispatch</code></li>\n<li><code>schedule</code></li>\n<li><code>status</code></li>\n<li><code>watch</code></li>\n<li><code>workflow_call</code></li>\n<li><code>workflow_dispatch</code></li>\n<li><code>workflow_run</code></li>\n</ul>\n</li>\n<li>Here is where you write it in yor YAML file\n<div class=\"remark-highlight\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Github Actions Event triggers\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  push<span class=\"token punctuation\">|</span>pull<span class=\"token punctuation\">|</span>etc<span class=\"token punctuation\">...</span>\n</code></pre></div>\n</li>\n</ul>\n</details>\n<details>\n<summary>Hello world of Github Action</summary>\n<ul>\n<li>\n<p>There are 3 main pieces to the actions yaml file:</p>\n<ol>\n<li><code>name</code> (whatever name you want to call this workflow, this will show up in the GUI)</li>\n<li><code>on</code> (The trigger, it can be a string or an array of strings)</li>\n<li><code>jobs</code></li>\n</ol>\n</li>\n<li>\n<p>Create a file in your repo called <code>.github/workflows/hello.yml</code></p>\n<div class=\"remark-highlight\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Hello world\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">hello_world</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> echo \"hello world\"\n</code></pre></div>\n</li>\n<li>\n<p>Different ways to define your <code>event triggers</code>. Use the <code>on: </code></p>\n<div class=\"remark-highlight\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># Triggered when code is pushed to any branch in a repository</span>\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span> push\n\n<span class=\"token comment\"># Triggers the workflow on push or pull request events</span>\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>push<span class=\"token punctuation\">,</span> pull_request<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># Ignore a branch</span>\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches-ignore</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> main\n</code></pre></div>\n</li>\n</ul>\n</details>\n<details>\n<summary>Working with env variables</summary>\n<ul>\n<li>\n<p>You can set environment variables for each job</p>\n</li>\n<li>\n<p>You define the variables under the job with an <code>env</code></p>\n</li>\n<li>\n<p>They cannot be a composite of other <code>env</code> defined that the same level, you cannot do</p>\n<div class=\"remark-highlight\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> CANNOT DO THIS\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">WORKSPACE</span><span class=\"token punctuation\">:</span> dev\n      <span class=\"token key atrule\">PROJECT_NAME</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'....CANNOT-DO-THIS......${{ env.WORKSPACE}}'</span>\n</code></pre></div>\n</li>\n<li>\n<p>Due to a security vulnerability <code>set-env</code> is being deprecated and should no longer be used.</p>\n</li>\n<li>\n<p>Proper way to define define/use env is by setting it under the <code>env</code> block and using them with <code>${{ env.SOME_ENV_KEY }}</code></p>\n<div class=\"remark-highlight\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'main'</span>\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">WORKSPACE</span><span class=\"token punctuation\">:</span> dev\n      <span class=\"token key atrule\">PROJECT_NAME</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'this-rocks'</span>\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v1\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Run multiple commands\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></span>\n<span class=\"token scalar string\">          echo \"Running on ${{ env.WORKSPACE }}\"</span>\n<span class=\"token scalar string\">          echo \"project namet: ${{ env.PROJECT_NAME }}\"</span>\n<span class=\"token scalar string\">          terraform init -backend-config bucket=\"${{ env.PROJECT_NAME }}\"</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> (env.PROJECT_NAME == 'this<span class=\"token punctuation\">-</span>rocks') <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> \n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Conditionally run this step\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> echo \"yeah baby<span class=\"token tag\">!</span><span class=\"token tag\">!</span>\"\n</code></pre></div>\n</li>\n</ul>\n</details>\n<details>\n<summary>Default working-directory option</summary>\n<ul>\n<li>By default the working directory is the root of the checkout repo</li>\n<li>You can actually set all the jobs to a specific working directory or just a specific job</li>\n<li>The Github actions have a working-directory option to declare on workflow. It specifies the working directory for all run steps.\n<div class=\"remark-highlight\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Configured for all jobs\n<span class=\"token key atrule\">defaults</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">working-directory</span><span class=\"token punctuation\">:</span> web\n</code></pre></div>\n</li>\n<li>Configured for specific jobs\n<div class=\"remark-highlight\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Configured for specific jobs\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">job1</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">defaults</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">working-directory</span><span class=\"token punctuation\">:</span> scripts\n</code></pre></div>\n</li>\n</ul>\n</details>\n<details>\n<summary>Have a step run multiple shell commands</summary>\n<ul>\n<li>Having one step in a job preform multiple command is easy just start with a <code>|</code> and all new lines before new commands:\n<div class=\"remark-highlight\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'main'</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v1\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Run multiple commands\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></span>\n<span class=\"token scalar string\">          npm run ci</span>\n<span class=\"token scalar string\">          npm run lint</span>\n<span class=\"token scalar string\">          npm rum build</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Save Build\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/upload<span class=\"token punctuation\">-</span>artifact@v2\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> build\n          <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></span>\n<span class=\"token scalar string\">            build</span>\n<span class=\"token scalar string\">            pipeline</span>\n<span class=\"token scalar string\">            package.json</span>\n<span class=\"token scalar string\">            scripts</span>\n</code></pre></div>\n</li>\n</ul>\n</details>\n<details>\n<summary>Saving temp files for other jobs</summary>\n<div class=\"remark-highlight\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'main'</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v1\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Run multiple commands\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></span>\n<span class=\"token scalar string\">          npm run ci</span>\n<span class=\"token scalar string\">          npm run lint</span>\n<span class=\"token scalar string\">          npm rum build</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Save Build\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/upload<span class=\"token punctuation\">-</span>artifact@v2\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> build\n          <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></span>\n<span class=\"token scalar string\">            build</span>\n<span class=\"token scalar string\">            pipeline</span>\n<span class=\"token scalar string\">            package.json</span>\n<span class=\"token scalar string\">            scripts</span>\n            \n  <span class=\"token key atrule\">using-artifacts</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v1   <span class=\"token comment\"># should have access to all the files uploaded with `actions/upload-artifact@v2`</span>\n</code></pre></div>\n</details>\n<details>\n<summary>Job dependencie</summary>\n<ul>\n<li>\n<p>(Job Example) One Job depending on the outcome of the other use the <code>needs</code> keyword</p>\n<div class=\"remark-highlight\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> &#x3C;Title<span class=\"token punctuation\">></span>\n\n<span class=\"token comment\"># Trigger (webhook, scheduled event, manual event)</span>\n<span class=\"token comment\"># Common webhook events: push, release, pull_request, create, delete, issues (https://docs.github.com/en/actions/reference/events-that-trigger-workflows)</span>\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span> \n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span> \n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> main <span class=\"token punctuation\">]</span>  <span class=\"token comment\"># what branch you want to watch </span>\n    <span class=\"token key atrule\">branches-ignore</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> main\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">first-job-name</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v1\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Install Dependencies\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm ci\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Run npm Script\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm run build\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Save Build\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/upload<span class=\"token punctuation\">-</span>artifact@v2\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> build\n          <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></span>\n<span class=\"token scalar string\">            build</span>\n<span class=\"token scalar string\">            pipeline</span>\n<span class=\"token scalar string\">            package.json</span>\n<span class=\"token scalar string\">            scripts</span>\n\n  <span class=\"token key atrule\">second-job-name</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">needs</span><span class=\"token punctuation\">:</span> first<span class=\"token punctuation\">-</span>job<span class=\"token punctuation\">-</span>name\n    <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">TEST_USER_USR</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.TEST_USER_USR <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n      <span class=\"token key atrule\">TEST_USER_PSW</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.TEST_USER_PSW <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Fetch `first<span class=\"token punctuation\">-</span>job<span class=\"token punctuation\">-</span>name`'s build\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/download<span class=\"token punctuation\">-</span>artifact@v2\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> build\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Run npm Script\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm run hello\n</code></pre></div>\n</li>\n<li>\n<p>(Job example) One workflow to build once and deploy in parallel</p>\n<div class=\"remark-highlight\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Build one and deploy in parallel\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span> \n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span> \n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span> main\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n\n  <span class=\"token key atrule\">publish-npm</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">needs</span><span class=\"token punctuation\">:</span> build\n\n  <span class=\"token key atrule\">publish-gpr</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">needs</span><span class=\"token punctuation\">:</span> build\n</code></pre></div>\n</li>\n</ul>\n</details>\n<details>\n<summary>Allow to manually run an Action in the Github web GUI</summary>\n<ul>\n<li>Manually run Actions with <code>workflow_dispatch</code>\n<ul>\n<li>You can manually trigger workflow runs. To trigger specific workflows in a repository, use the workflow_dispatch event.</li>\n<li>To trigger more than one workflow in a repository and create custom events and event types, use the repository_dispatch event.</li>\n</ul>\n<div class=\"remark-highlight\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Manually triggered workflow\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">workflow_dispatch</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">inputs</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Person to greet'</span>\n        <span class=\"token key atrule\">required</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n        <span class=\"token key atrule\">default</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Mona the Octocat'</span>\n      <span class=\"token key atrule\">home</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'location'</span>\n        <span class=\"token key atrule\">required</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n        <span class=\"token key atrule\">default</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'The Octoverse'</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">say_hello</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></span>\n<span class=\"token scalar string\">          echo \"Hello ${{ github.event.inputs.name }}!\"</span>\n<span class=\"token scalar string\">          echo \"- in ${{ github.event.inputs.home }}!\"</span>\n</code></pre></div>\n</li>\n</ul>\n</details>\n<details>\n<summary>Run a Conjob </summary>\n<ul>\n<li><a href=\"https://docs.github.com/en/actions/reference/events-that-trigger-workflows#scheduled-events\">docs Scheduled events</a></li>\n<li>If you are running a shell script you have to add change the owner of the script\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">git</span> <span class=\"token function\">add</span> --chmod<span class=\"token operator\">=</span>+x -- ./scripts/moveFile.sh\n</code></pre></div>\n</li>\n<li>GitHub automatically creates a <code>GITHUB_TOKEN</code> secret to use in your workflow, so you don’t have to worry about creating this. The <code>GITHUB_TOKEN</code> secret allows us to authenticate ourselves (in this example is needed to push the changes).\n<div class=\"remark-highlight\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Run a scheduler\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">schedule</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">cron</span><span class=\"token punctuation\">:</span>  <span class=\"token string\">'0 0 * * 0'</span>  <span class=\"token comment\"># At 00:00 on Sunday. (https://crontab.guru/)</span>\n  <span class=\"token key atrule\">workflow_dispatch</span><span class=\"token punctuation\">:</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">scheduler</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v1\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Install Dependencies\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm ci\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Run the npm Script\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm run generate<span class=\"token punctuation\">:</span>report\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Commit generated report\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></span>\n<span class=\"token scalar string\">          git config --local user.email \"action@github.com\"</span>\n<span class=\"token scalar string\">          git config --local user.name \"GitHub Action\"</span>\n<span class=\"token scalar string\">          git add -A</span>\n<span class=\"token scalar string\">          git commit -m \"Auto-generated report\" -a</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Push changes\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> ad<span class=\"token punctuation\">-</span>m/github<span class=\"token punctuation\">-</span>push<span class=\"token punctuation\">-</span>action@v0.6.0\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">github_token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.GITHUB_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>.  <span class=\"token comment\"># Github automatically takes care of this you don't have to create one</span>\n          <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> main  \n</code></pre></div>\n</li>\n</ul>\n</details>\n<details>\n<summary>Configuring AWS credentials</summary>\n<ul>\n<li><a href=\"https://github.com/aws-actions/configure-aws-credentials\">\"Configure AWS Credentials\" Action For GitHub Actions</a></li>\n<li>You will have to add <code>AWS_ACCESS_KEY_ID</code> &#x26; <code>AWS_SECRET_ACCESS_KEY</code> to your github secrets for the repo\n<div class=\"remark-highlight\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Using AWS Creds\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'main'</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v1\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Install Dependencies\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm ci\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Run linter\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm run lint\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Run Tests\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm run test<span class=\"token punctuation\">:</span>ci\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Build Library\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm run build\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Save Build\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/upload<span class=\"token punctuation\">-</span>artifact@v2\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> build\n          <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></span>\n<span class=\"token scalar string\">            build</span>\n<span class=\"token scalar string\">            pipeline</span>\n<span class=\"token scalar string\">            package.json</span>\n<span class=\"token scalar string\">            scripts</span>\n  <span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">needs</span><span class=\"token punctuation\">:</span> build\n    <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">MY_S3_WEBSITE_BUCKET_NAME</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"some-awesome-website\"</span>\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Fetch Build\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/download<span class=\"token punctuation\">-</span>artifact@v2\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> build\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Configure AWS Credentials\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> aws<span class=\"token punctuation\">-</span>actions/configure<span class=\"token punctuation\">-</span>aws<span class=\"token punctuation\">-</span>credentials@v1\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">aws-access-key-id</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.AWS_ACCESS_KEY_ID <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">aws-secret-access-key</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.AWS_SECRET_ACCESS_KEY <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token comment\"># aws-session-token: ${{ secrets.AWS_SESSION_TOKEN }} # if you have/need it</span>\n          <span class=\"token key atrule\">aws-region</span><span class=\"token punctuation\">:</span> us<span class=\"token punctuation\">-</span>east<span class=\"token punctuation\">-</span><span class=\"token number\">2</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Copy files to the production website with the AWS CLI\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></span>\n<span class=\"token scalar string\">          aws s3 sync . s3://${{ env.MY_S3_WEBSITE_BUCKET_NAME}}</span>\n</code></pre></div>\n</li>\n</ul>\n</details>\n<details>\n<summary>With Terraform</summary>\n<ul>\n<li>Set up Terraform CLI in your GitHub Actions with <a href=\"https://github.com/hashicorp/setup-terraform\">hashicorp/setup-terraform</a>\n<div class=\"remark-highlight\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'main'</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v1\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Install Dependencies\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm ci\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Run linter\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm run lint\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Run Tests\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm run test<span class=\"token punctuation\">:</span>ci\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Build Library\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm run build\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Save Build\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/upload<span class=\"token punctuation\">-</span>artifact@v2\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> build\n          <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></span>\n<span class=\"token scalar string\">            build</span>\n<span class=\"token scalar string\">            pipeline</span>\n<span class=\"token scalar string\">            package.json</span>\n<span class=\"token scalar string\">            scripts</span>\n\n  <span class=\"token key atrule\">dev_infrastructure</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">WORKSPACE</span><span class=\"token punctuation\">:</span> dev\n      <span class=\"token key atrule\">VAR_FILE</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'./env_configs/dev.tfvars'</span>\n      <span class=\"token key atrule\">terraform_state_bucket</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'&#x3C;YOUR_TF_STATE_BUCKET>'</span>\n    <span class=\"token key atrule\">defaults</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">working-directory</span><span class=\"token punctuation\">:</span> pipeline/terraform\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v1\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> hashicorp/setup<span class=\"token punctuation\">-</span>terraform@v1\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">terraform_version</span><span class=\"token punctuation\">:</span> 0.13.5\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Configure AWS Credentials\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> aws<span class=\"token punctuation\">-</span>actions/configure<span class=\"token punctuation\">-</span>aws<span class=\"token punctuation\">-</span>credentials@v1\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">aws-region</span><span class=\"token punctuation\">:</span> us<span class=\"token punctuation\">-</span>west<span class=\"token punctuation\">-</span><span class=\"token number\">2</span>\n          <span class=\"token key atrule\">role-duration-seconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3600</span>\n          <span class=\"token key atrule\">role-to-assume</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.&#x3C;CI_ROLE<span class=\"token punctuation\">></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Terraform init\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></span>\n<span class=\"token scalar string\">          echo \"Running tf-deploy on ${{ env.WORKSPACE }}\"</span>\n<span class=\"token scalar string\">          echo \"Using Terraform state bucket: ${{ env.terraform_state_bucket }}\"</span>\n<span class=\"token scalar string\">          rm -rf .terraform/</span>\n<span class=\"token scalar string\">          terraform init -backend-config bucket=\"${{ env.terraform_state_bucket }}\"</span>\n<span class=\"token scalar string\">          if ! terraform workspace select ${{ env.WORKSPACE }}; then terraform workspace new ${{ env.WORKSPACE }}; fi</span>\n<span class=\"token scalar string\">          terraform apply -auto-approve -var-file=${{ env.VAR_FILE }}</span>\n\n  <span class=\"token key atrule\">deploy_dev</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">needs</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> dev_infrastructure<span class=\"token punctuation\">,</span> build <span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Fetch Build\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/download<span class=\"token punctuation\">-</span>artifact@v2\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> build\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Configure AWS Credentials\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> aws<span class=\"token punctuation\">-</span>actions/configure<span class=\"token punctuation\">-</span>aws<span class=\"token punctuation\">-</span>credentials@v1\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">aws-region</span><span class=\"token punctuation\">:</span> us<span class=\"token punctuation\">-</span>west<span class=\"token punctuation\">-</span><span class=\"token number\">2</span>\n          <span class=\"token key atrule\">role-duration-seconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3600</span>\n          <span class=\"token key atrule\">role-to-assume</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.&#x3C;CI_ROLE<span class=\"token punctuation\">></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> ./pipeline/client<span class=\"token punctuation\">-</span>deploy.sh dev\n</code></pre></div>\n</li>\n</ul>\n</details>\n<details>\n<summary>Slack Notifications</summary>\n<ul>\n<li>Create a Slack App &#x26; Slack channel to post to:\n<ol>\n<li>Create a slack app https://api.slack.com/apps</li>\n<li><code>Create New App</code> > <code>From scratch</code></li>\n<li>Add features and functionality > Incoming Webhooks > Click the <code>on</code> toggle</li>\n</ol>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">curl</span> -X POST -H <span class=\"token string\">'Content-type: application/json'</span> --data <span class=\"token string\">'{\"text\":\"Hello, World!\"}'</span> <span class=\"token operator\">&#x3C;</span>YOUR_WEBHOOK_URL_HERE<span class=\"token operator\">></span>\n</code></pre></div>\n<ol start=\"4\">\n<li>Copy down the credentials</li>\n<li>Update the <code>Display Information</code></li>\n<li>Create a Slack channel</li>\n<li>Install your app</li>\n</ol>\n<ul>\n<li>click the <code>Request to Install</code> button</li>\n<li>Select the slack channel</li>\n</ul>\n<ol start=\"8\">\n<li>Go back to the <code>Add features and functionality</code> and click the <code>Incoming Webhook</code></li>\n</ol>\n<ul>\n<li>After you have connected a slack channel to your app it will give you a curl example</li>\n</ul>\n</li>\n<li>Posting to your channel with a webhook\n<ol>\n<li>Via curl</li>\n<li>Github Action</li>\n</ol>\n<ul>\n<li>Make sure to add an ENV secrets to your github repo's secrets</li>\n<li>Basic notify\n<div class=\"remark-highlight\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Notify Slack\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">say_hello_to_slack</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></span>\n<span class=\"token scalar string\">          echo \"Hello ${{ github.event.inputs.name }}!\"</span>\n<span class=\"token scalar string\">          echo \"- in ${{ github.event.inputs.home }}!\"</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Notify Build\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></span>\n<span class=\"token scalar string\">          curl -X POST -H 'Content-type: application/json' --data '{\\\"text\\\":\\\"Hello Slack from '${{github.repository}}'' ${{ secrets.SLACK_HOOK}}</span>\n</code></pre></div>\n</li>\n<li>Notify on PR\n<div class=\"remark-highlight\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Notify Slack\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">pull_request</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">types</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> opened<span class=\"token punctuation\">,</span> reopened <span class=\"token punctuation\">]</span>\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">open_pr</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">GITHUB_USERNAME</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> github.event.pull_request.user.login <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n      <span class=\"token key atrule\">PR_HTML_URL</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> github.event.pull_request.html_url <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n      <span class=\"token key atrule\">REPO_NAME</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> github.event.repository.full_name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n      <span class=\"token key atrule\">PR_TITLE</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> github.event.pull_request.title <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Notify Slack\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></span>\n<span class=\"token scalar string\">          curl -X POST -H 'Content-type: application/json' \\</span>\n<span class=\"token scalar string\">          --data '{\"text\":\"&#x3C;!here> *${{ env.GITHUB_USERNAME }}* started a new Pull Request for &#x3C;${{ env.PR_HTML_URL }} | ${{ env.REPO_NAME }}>: ${{ env.PR_TITLE }}\"}' \\</span>\n<span class=\"token scalar string\">          ${{ secrets.SLACK_HOOK }}</span>\n</code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n</details>\n<details>\n<summary>Composite Actions & Reusable Workflows</summary>\n<ul>\n<li>There are ALOT of overlap between Composite Actions &#x26; Reusable Workflows</li>\n<li><code>Composite Action</code> is presented as a <code>one-step</code> (even if it contains multiple steps) when invoked in a workflow</li>\n<li><code>Reusable workflows</code> can use <code>secrets</code>, whereas a composite action can’t.</li>\n<li>Both can only take string, number or boolean as a param. Arrays are not allowed.</li>\n<li><code>Reusable workflows</code> can’t be used with a <code>matrix</code> but <code>composite actions</code> can</li>\n</ul>\n<h4>Github resusable workflow repo</h4>\n<ul>\n<li>\n<p>You can have reusable workflows in the current repo or in another repo</p>\n<ul>\n<li>If in the same repo you have to have them in the <code>.github/workflows/</code> directory and not in a nested folder</li>\n<li>If in another repo, that repo has to be public or enabled available in your enterprise level and also in a <code>.github/workflows/</code> in that other repository</li>\n</ul>\n</li>\n<li>\n<p>All reusable workflows that use <code>secrets</code> need to be supplied those values and all <code>env</code> values should be pass thru via <code>inputs</code></p>\n</li>\n<li>\n<p>Creating a reusable workflow:</p>\n<div class=\"remark-highlight\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Setup\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">workflow_call</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">secrets</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">SOME_SECRET</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">required</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">inputs</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">hello_message</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">required</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n        <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"A message to be passed in\"</span>\n        <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> string\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">setup</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">hello_message_as_env</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> inputs.hello_message <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2.4.0\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> echo \"input value passed in =<span class=\"token punctuation\">></span> ( $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> inputs.hello_message <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>)\"\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> echo \"input as environment variable  $hello_message_as_env\"\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> echo \"secret value passed in =<span class=\"token punctuation\">></span> ( $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.SOME_SECRET <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>)<span class=\"token punctuation\">,</span> this should actually mask the actual secrete\"\n</code></pre></div>\n</li>\n<li>\n<p>Using that reusable workflow</p>\n<div class=\"remark-highlight\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Uses reusable workflows\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> main\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">do_something</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">secrets</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">SOME_SECRET</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.SECRET_IN_YOU_REPO_SETTINGS <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n    <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">hello_message</span><span class=\"token punctuation\">:</span> this rocks<span class=\"token tag\">!</span><span class=\"token tag\">!</span>\n    <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> ./.github/workflows/reuse<span class=\"token punctuation\">-</span>me.yml\n</code></pre></div>\n</li>\n</ul>\n</details>\n<details>\n<summary>Create a custom Github Action Composite Run Steps</summary>\n<ul>\n<li><code>Composite Run Steps</code> allows you to reuse parts of your workflows inside other workflows</li>\n<li>It's a type of actions that allows you to bundle multiple run steps in one single actions and re-use that bundle as a single step in another action</li>\n<li>You might have seen it in your for from</li>\n<li>TL;DR <code>Composite Run Steps</code> allows you to nest actions steps within an action step</li>\n<li>Why?\n<ul>\n<li>So you can create a template and reuse multiple places</li>\n<li>Keep things DRY (Don't Repeat Yourself)</li>\n<li>Use <code>env</code> variables</li>\n<li>You just need to modify one place to get the effect everywhere it gets uses that composite run steps</li>\n</ul>\n</li>\n<li>Supported properties:\n<div class=\"remark-highlight\"><pre class=\"language-yml\"><code class=\"language-yml\">name  \nid  \nrun  \nenv  \nshell  \nworking<span class=\"token punctuation\">-</span>directory  \n</code></pre></div>\n</li>\n<li>Example of publicly available <code>Composite run steps</code> are: <code>aws-actions/configure-aws-credentials@v1</code>, <code>hashicorp/setup-terraform@v1</code></li>\n</ul>\n<ol>\n<li>Create a new repo just for this custom composiste run step e.g. <code>philopian/my-awesome-actions</code></li>\n<li>Create a <code>metadata file</code> and call it <code>actions.yml</code></li>\n</ol>\n<ul>\n<li>do not add trigger blocks in this file</li>\n</ul>\n<ol start=\"3\">\n<li>Add your content:</li>\n</ol>\n<div class=\"remark-highlight\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Build infrastructure'</span>\n<span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Builds out our AWS infrastructure with Terraform'</span>\n<span class=\"token key atrule\">inputs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">WORKSPACE</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Workspace for which terraform is to build the infrastructure in'</span>\n    <span class=\"token key atrule\">required</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">VAR_FILE</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Location to the `env_configs/*.tfvars` file'</span>\n    <span class=\"token key atrule\">required</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">terraform_state_bucket</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'The terraform bucket for which terraform can write to the tf-state file in'</span>\n    <span class=\"token key atrule\">required</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n<span class=\"token key atrule\">runs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">using</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"composite\"</span>\n  <span class=\"token key atrule\">defaults</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">working-directory</span><span class=\"token punctuation\">:</span> pipeline/terraform\n  <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> hashicorp/setup<span class=\"token punctuation\">-</span>terraform@v1\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">terraform_version</span><span class=\"token punctuation\">:</span> 0.13.5\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Configure AWS Credentials\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> aws<span class=\"token punctuation\">-</span>actions/configure<span class=\"token punctuation\">-</span>aws<span class=\"token punctuation\">-</span>credentials@v1\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">aws-region</span><span class=\"token punctuation\">:</span> us<span class=\"token punctuation\">-</span>west<span class=\"token punctuation\">-</span><span class=\"token number\">2</span>\n        <span class=\"token key atrule\">role-duration-seconds</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3600</span>\n        <span class=\"token key atrule\">role-to-assume</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.&#x3C;CI_ROLE<span class=\"token punctuation\">></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Terraform init\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></span>\n<span class=\"token scalar string\">        echo \"Running tf-deploy on ${{ inputs.WORKSPACE }}\"</span>\n<span class=\"token scalar string\">        echo \"Using Terraform state bucket: ${{ inputs.terraform_state_bucket }}\"</span>\n<span class=\"token scalar string\">        rm -rf .terraform/</span>\n<span class=\"token scalar string\">        terraform init -backend-config bucket=\"${{ inputs.terraform_state_bucket }}\"</span>\n<span class=\"token scalar string\">        if ! terraform workspace select ${{ inputs.WORKSPACE }}; then terraform workspace new ${{ inputs.WORKSPACE }}; fi</span>\n<span class=\"token scalar string\">        terraform apply -auto-approve -var-file=${{ inputs.VAR_FILE }}</span>\n</code></pre></div>\n<ol start=\"4\">\n<li>From your terminal, check in your <code>actions.yml</code> file.</li>\n</ol>\n<ul>\n<li>Before we can use this \"snippet\" into our actions, we need to create a Tag and a Release for our repo.\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">git</span> <span class=\"token function\">add</span> action.yml\n$ <span class=\"token function\">git</span> commit -m <span class=\"token string\">\"Add action\"</span>\n$ <span class=\"token function\">git</span> push\n</code></pre></div>\n</li>\n</ul>\n<ol start=\"5\">\n<li>From your terminal, add a tag. This example uses a tag called v1. For more information, see \"About actions.\"</li>\n</ol>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">git</span> tag -a -m <span class=\"token string\">\"Description of this release\"</span> v1\n$ <span class=\"token function\">git</span> push --follow-tags\n</code></pre></div>\n<ol start=\"6\">\n<li>Use this composite action, <strong>in a different repo</strong></li>\n</ol>\n<div class=\"remark-highlight\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'main'</span>\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">infrastructure</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v1\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> Terraform\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/philopian/my<span class=\"token punctuation\">-</span>awesome<span class=\"token punctuation\">-</span>actions@v1\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">WORKSPACE</span><span class=\"token punctuation\">:</span> dev\n          <span class=\"token key atrule\">VAR_FILE</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'./env_configs/dev.tfvars'</span>\n          <span class=\"token key atrule\">terraform_state_bucket</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'&#x3C;MY_TERRAFORM_S3_BUCKET>'</span>\n</code></pre></div>\n</details>\n<details>\n<summary>Github Action lint on push\n</summary>\n<div class=\"remark-highlight\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> CI\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>push<span class=\"token punctuation\">]</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Build\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span><span class=\"token number\">18.04</span>\n    <span class=\"token key atrule\">strategy</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">matrix</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">node_version</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">14</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v1\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Use Node.js $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> matrix.node_version <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/setup<span class=\"token punctuation\">-</span>node@v1\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">node_version</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> matrix.node_version <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> run CI\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"></span>\n<span class=\"token scalar string\">          npm install</span>\n<span class=\"token scalar string\">          npm run lint</span>\n<span class=\"token scalar string\">          npm run test</span>\n<span class=\"token scalar string\">          npm run build</span>\n</code></pre></div>\n</details>\n","ogImage":{"url":"/assets/covers/github.jpg"},"coverImage":"/assets/covers/github.jpg"}},"__N_SSG":true}