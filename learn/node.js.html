<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="description" content="Not another learning site."/><meta property="og:image" content="https://og-image.now.sh/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><title>Not another learning site.</title><meta property="og:image" content="/assets/covers/nodejs.jpg"/><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/aadbdd3a744cb30b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/aadbdd3a744cb30b.css" data-n-g=""/><link rel="preload" href="/_next/static/css/cf121497002c184d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cf121497002c184d.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-9b312e20a4e32339.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-779b41245c009d2a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-156acf25c3b6001c.js" defer=""></script><script src="/_next/static/chunks/664-4243e6d8b13d56da.js" defer=""></script><script src="/_next/static/chunks/pages/learn/%5Bslug%5D-92635154843eec70.js" defer=""></script><script src="/_next/static/7iwF-uptO-clUcUHECCZE/_buildManifest.js" defer=""></script><script src="/_next/static/7iwF-uptO-clUcUHECCZE/_ssgManifest.js" defer=""></script><script src="/_next/static/7iwF-uptO-clUcUHECCZE/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="min-h-screen"><main><div class="container mx-auto px-5"><div style="position:fixed;background-color:rgba(255,255,255,0.9);backdrop-filter:blur(10px);width:100%;left:0px"><h2 class="text-2xl md:text-4xl font-bold tracking-tight md:tracking-tighter leading-tight mb-20 mt-8" style="padding:0;padding-left:10px;margin-bottom:20px"><a class="hover:underline" href="/">Learn</a>.</h2></div><article class="mb-32"><div style="height:100px"></div><h1 class="text-6xl md:text-7xl lg:text-8xl font-bold tracking-tighter leading-tight md:leading-none mb-12 text-center md:text-left">node.js</h1><div class="mb-8 md:mb-16 sm:mx-0"><div class="sm:mx-0"><img src="/assets/covers/nodejs.jpg" alt="Cover Image for node.js" class="shadow-sm" layout="responsive" width="1240" height="620"/></div></div><div class="max-w-2xl mx-auto"><div class="block md:hidden mb-6"><div>TODO: add language chip here</div></div></div><div class="max-w-2xl mx-auto"><div class="markdown-styles_markdown__h_8de"><h1>What is Nodejs</h1>
<ul>
<li>Node.js is an open-source and cross-platform JavaScript runtime environment.</li>
<li>Node.js runs the V8 JavaScript engine, the core of Google Chrome, outside of the browser. This allows Node.js to be very performant.</li>
<li>Both the browser and Node.js use JavaScript as their programming language.</li>
<li>Node.js you don't have the <code>document</code>, <code>window</code> and all the other objects that are provided by the browser.</li>
<li>The Browser we don't have all the nice APIs that allow for filesystem access functionality</li>
<li>An additional feature that Nodejs provides is control over teh environment</li>
</ul>
<h2>Common npm commands</h2>
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell">$ <span class="token function">npm</span> init
$ <span class="token function">npm</span> init -y
$ <span class="token function">npm</span> <span class="token function">install</span> <span class="token operator">&#x3C;</span>PACKAGE_NAME<span class="token operator">></span> <span class="token operator">|</span>  <span class="token function">npm</span> i <span class="token operator">&#x3C;</span>PACKAGE_NAME<span class="token operator">></span>

$ <span class="token function">npm</span> view <span class="token operator">&#x3C;</span>PACKAGE_NAME<span class="token operator">></span>
$ <span class="token function">npm</span> view <span class="token operator">&#x3C;</span>PACKAGE_NAME<span class="token operator">></span> versions

$ <span class="token function">npm</span> <span class="token function">install</span> -g <span class="token operator">&#x3C;</span>SOME_GLOBAL_PACKAGE<span class="token operator">></span>
$ <span class="token function">npm</span> uninstall <span class="token operator">&#x3C;</span>PACKAGE_NAME<span class="token operator">></span> <span class="token operator">|</span> <span class="token function">npm</span> un <span class="token operator">&#x3C;</span>PACKAGE_NAME<span class="token operator">></span>

$ <span class="token function">npm</span> update <span class="token operator">&#x3C;</span>PACKAGE_NAME<span class="token operator">></span> <span class="token operator">|</span> <span class="token function">npm</span> up <span class="token operator">&#x3C;</span>PACKAGE_NAME<span class="token operator">></span>
$ <span class="token function">npm</span> update
$ <span class="token function">npm</span> audit

$ <span class="token function">npm</span> version
$ <span class="token function">npm</span> publish


<span class="token comment"># Run a npm script</span>
$ <span class="token function">npm</span> run <span class="token operator">&#x3C;</span>NPM_SCRIPT_NAME<span class="token operator">></span>

<span class="token comment"># list globally installed packages</span>
$ <span class="token function">npm</span> list -g --depth<span class="token operator">=</span><span class="token number">0</span>

<span class="token comment"># Update npm</span>
$ <span class="token function">npm</span> <span class="token function">install</span> -g npm@latest

<span class="token comment"># list installed packages and versions</span>
$ <span class="token function">npm</span> list <span class="token operator">|</span> <span class="token function">npm</span> <span class="token function">ls</span>

<span class="token comment"># Install clean slate of the packages</span>
$ <span class="token function">npm</span> ci

<span class="token comment"># Symlink a package folder, to used it locally without publishing it </span>
$ <span class="token function">npm</span> <span class="token function">link</span>

<span class="token comment"># Updates all dependencies in project.</span>
<span class="token function">npm</span> update
</code></pre></div>
<h1>Installation</h1>
<ul>
<li>There are a few ways to install Nodejs on your machine</li>
<li>There are 2 main versions to consider <code>LTS</code> and <code>Current</code></li>
<li><code>LTS</code> is for Long Term Support which is the stable version as for the <code>Current</code> is the more cutting edge</li>
<li>Nodejs even versions are stable and odd versions for the lastest versions</li>
<li>More about release dates and versions <a href="https://nodejs.org/en/about/releases/">go here</a></li>
</ul>
<ol>
<li>Install from the <a href="https://nodejs.org/en/">nodejs</a> homepage</li>
<li>HomeBrew on your mac</li>
<li><a href="https://github.com/nvm-sh/nvm">NVM</a> (My prefered way cause you can switch node versions easily)</li>
</ol>
<h2>Installing nodejs via Homepage</h2>
<ul>
<li>Install the latest binaries <a href="https://nodejs.org/en/download/">here</a></li>
</ul>
<h2>Installing nodejs via HomeBrew</h2>
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell">$ brew update
$ brew upgrade <span class="token function">node</span>
</code></pre></div>
<h2>Install nodejs with nvm</h2>
<ul>
<li>
<p>Install via homebrew</p>
<ul>
<li><a href="http://dev.topheman.com/install-nvm-with-homebrew-to-use-multiple-versions-of-node-and-iojs-easily/">tut</a></li>
</ul>
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell">$ brew update
$ brew <span class="token function">install</span> nvm
</code></pre></div>
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell"><span class="token comment"># NVM installed via homebrew</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span> -s <span class="token environment constant">$HOME</span>/.nvm/nvm.sh <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&#x26;&#x26;</span> <span class="token builtin class-name">.</span> <span class="token environment constant">$HOME</span>/.nvm/nvm.sh
<span class="token builtin class-name">export</span> <span class="token assign-left variable">NVM_DIR</span><span class="token operator">=</span><span class="token string">"/.nvm"</span>
<span class="token builtin class-name">source</span> <span class="token variable"><span class="token variable">$(</span>brew --prefix nvm<span class="token variable">)</span></span>/nvm.sh
</code></pre></div>
</li>
<li>
<p>Install via the <a href="https://github.com/nvm-sh/nvm">ruby way</a></p>
<ul>
<li>Add this to your bash/zshrc:
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell"><span class="token comment"># NVM</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">NVM_DIR</span><span class="token operator">=</span><span class="token string">"<span class="token environment constant">$HOME</span>/.nvm"</span>
<span class="token punctuation">[</span> -s <span class="token string">"<span class="token variable">$NVM_DIR</span>/nvm.sh"</span> <span class="token punctuation">]</span> <span class="token operator">&#x26;&#x26;</span> <span class="token punctuation">\</span>. <span class="token string">"<span class="token variable">$NVM_DIR</span>/nvm.sh"</span>  <span class="token comment"># This loads nvm</span>
<span class="token punctuation">[</span> -s <span class="token string">"<span class="token variable">$NVM_DIR</span>/bash_completion"</span> <span class="token punctuation">]</span> <span class="token operator">&#x26;&#x26;</span> <span class="token punctuation">\</span>. <span class="token string">"<span class="token variable">$NVM_DIR</span>/bash_completion"</span>  <span class="token comment"># This loads nvm bash_completion</span>
<span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">"/usr/local/opt/grep/libexec/gnubin:<span class="token environment constant">$PATH</span>"</span>
</code></pre></div>
</li>
</ul>
</li>
<li>
<p><em>note :</em> every time you switch node versions you'll have to install all your globals again as well as you will have to delete your projects <code>node_modules</code> because these dependencies are specfic to the exact node version &#x26; OS installed</p>
</li>
<li>
<p>Upgrade <code>NVM</code></p>
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell">$ nvm <span class="token function">install</span> stable --reinstall-packages-from<span class="token operator">=</span>current
</code></pre></div>
</li>
<li>
<p>If your npm global packages point to a different nodejs version run this</p>
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell">$ <span class="token function">npm</span> list -g --depth<span class="token operator">=</span><span class="token number">0</span>
$ <span class="token function">npm</span> config <span class="token function">rm</span> prefix
</code></pre></div>
</li>
<li>
<p>NVM commands</p>
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell"><span class="token comment"># Check nodejs version</span>
$ <span class="token function">node</span> -v <span class="token operator">||</span> <span class="token function">node</span> --version

<span class="token comment"># List installed versions of node (via nvm)</span>
$ nvm <span class="token function">ls</span>

<span class="token comment"># Install specific version of node</span>
$ nvm <span class="token function">install</span> <span class="token number">12.20</span>.1

<span class="token comment"># Set default version of node</span>
$ nvm <span class="token builtin class-name">alias</span> default <span class="token number">12.20</span>.1

<span class="token comment"># Switch version of node</span>
$ nvm use <span class="token number">14.15</span>.4

<span class="token comment"># List latest available versions</span>
$ nvm ls-remote <span class="token operator">|</span> <span class="token function">grep</span> -i <span class="token string">'latest'</span>
</code></pre></div>
</li>
</ul>
<h2>Using Docker to local development</h2>
<ul>
<li>
<p>Initialize a nodejs</p>
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell">$ <span class="token function">npm</span> init -y
$ <span class="token function">npm</span> i express
$ <span class="token function">npm</span> i -D nodemon
$ <span class="token function">mkdir</span> src
</code></pre></div>
</li>
<li>
<p>Update the <code>package.json</code></p>
<div class="remark-highlight"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"docker"</span><span class="token punctuation">,</span>
  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>
  <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"Example of working with Docker and Expressjs"</span><span class="token punctuation">,</span>
  <span class="token property">"main"</span><span class="token operator">:</span> <span class="token string">"index.js"</span><span class="token punctuation">,</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"start"</span><span class="token operator">:</span> <span class="token string">"node ./src"</span><span class="token punctuation">,</span>
    <span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"nodemon ./src"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"keywords"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"author"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  <span class="token property">"license"</span><span class="token operator">:</span> <span class="token string">"ISC"</span><span class="token punctuation">,</span>
  <span class="token property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"express"</span><span class="token operator">:</span> <span class="token string">"^4.17.1"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"nodemon"</span><span class="token operator">:</span> <span class="token string">"^2.0.7"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"engines"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"node"</span><span class="token operator">:</span> <span class="token string">">= 14.0.0"</span><span class="token punctuation">,</span>
    <span class="token property">"npm"</span><span class="token operator">:</span> <span class="token string">">= 7.0.0"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
</li>
<li>
<p>Create the <code>src/index.js</code> file</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Constants</span>
<span class="token keyword">const</span> <span class="token constant">PORT</span> <span class="token operator">=</span> process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> <span class="token number">8080</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">HOST</span> <span class="token operator">=</span> process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">HOST</span> <span class="token operator">||</span> <span class="token string">'0.0.0.0'</span><span class="token punctuation">;</span>

<span class="token comment">// App</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token method function property-access">send</span><span class="token punctuation">(</span><span class="token string">'Hello World!!!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token method function property-access">listen</span><span class="token punctuation">(</span><span class="token constant">PORT</span><span class="token punctuation">,</span> <span class="token constant">HOST</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">The magic is running on http://</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">HOST</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">PORT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
</li>
<li>
<p>Create a <code>.gitignore</code></p>
<div class="remark-highlight"><pre class="language-html"><code class="language-html">node_modules
</code></pre></div>
</li>
<li>
<p>Create a <code>Dockerfile</code></p>
<div class="remark-highlight"><pre class="language-docker"><code class="language-docker"><span class="token instruction"><span class="token keyword">FROM</span> node:14</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /usr/src/app</span>
<span class="token instruction"><span class="token keyword">COPY</span> package*.json ./</span>
<span class="token instruction"><span class="token keyword">RUN</span> npm install</span>

<span class="token instruction"><span class="token keyword">COPY</span> . .</span>

<span class="token instruction"><span class="token keyword">EXPOSE</span> 8080</span>

<span class="token instruction"><span class="token keyword">CMD</span> [ <span class="token string">"npm"</span>, <span class="token string">"start"</span> ]</span>
</code></pre></div>
</li>
<li>
<p>Create a <code>.dockerignore</code></p>
<div class="remark-highlight"><pre class="language-html"><code class="language-html">node_modules
npm-debug.log
</code></pre></div>
</li>
<li>
<p>Create a docker image for your application to develop with</p>
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell">$ <span class="token function">docker</span> build <span class="token builtin class-name">.</span> -t <span class="token operator">&#x3C;</span>DOCKER_USERNAME<span class="token operator">></span>/node-web-app
$ <span class="token function">docker</span> run -it -p <span class="token number">8080</span>:8080 -v <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>:/usr/src/app --name my_awesome_app -d <span class="token operator">&#x3C;</span>DOCKER_USERNAME<span class="token operator">></span>/node-web-app  <span class="token function">sh</span> -c <span class="token string">'npm run dev'</span> 
</code></pre></div>
</li>
<li>
<p>The above allows you to develop inside the docker container via a volume</p>
</li>
<li>
<p>When you are ready to publish you can create an image with a version</p>
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell">$ <span class="token function">docker</span> build <span class="token builtin class-name">.</span> -t <span class="token operator">&#x3C;</span>DOCKER_USERNAME<span class="token operator">></span>/node-web-app:v0.1
$ <span class="token function">docker</span> run -p <span class="token number">8080</span>:8080 --name my_awesome_app_prod -d <span class="token operator">&#x3C;</span>DOCKER_USERNAME<span class="token operator">></span>/node-web-app:v0.1
</code></pre></div>
</li>
<li>
<p>Add TypeScript</p>
<ul>
<li>Install typescript
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell">$ <span class="token function">npm</span> <span class="token function">install</span> -D typescript ts-node @types/node @types/express
</code></pre></div>
</li>
<li>Update your <code>package.json</code> file</li>
</ul>
<div class="remark-highlight"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"start"</span><span class="token operator">:</span> <span class="token string">"node ./dist/src"</span><span class="token punctuation">,</span>
    <span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"nodemon ./src/index.ts"</span><span class="token punctuation">,</span>
    <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"tsc"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<ul>
<li>Create a <code>tsconfig.json</code> file
<div class="remark-highlight"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"compilerOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"module"</span><span class="token operator">:</span> <span class="token string">"commonjs"</span><span class="token punctuation">,</span>
    <span class="token property">"target"</span><span class="token operator">:</span> <span class="token string">"es6"</span><span class="token punctuation">,</span>
    <span class="token property">"rootDir"</span><span class="token operator">:</span> <span class="token string">"./"</span><span class="token punctuation">,</span>
    <span class="token property">"outDir"</span><span class="token operator">:</span> <span class="token string">"dist"</span><span class="token punctuation">,</span>
    <span class="token property">"esModuleInterop"</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
</li>
<li>Rename <code>src/index.js</code> to <code>src/index.ts</code></li>
<li>Now you can use <code>import</code> instead of commonjs <code>require(&#x3C;package_name>)</code>
<div class="remark-highlight"><pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> express<span class="token punctuation">,</span> <span class="token punctuation">{</span> Request<span class="token punctuation">,</span> Response<span class="token punctuation">,</span> NextFunction <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'express'</span><span class="token punctuation">;</span>

<span class="token comment">// Constants</span>
<span class="token keyword">const</span> <span class="token constant">PORT</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> <span class="token number">3000</span><span class="token punctuation">;</span>

<span class="token comment">// Types</span>
<span class="token keyword">type</span> <span class="token class-name">RootMessage</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  message<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// App</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>req<span class="token operator">:</span>Request<span class="token punctuation">,</span> res<span class="token operator">:</span> Response<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> message<span class="token operator">:</span> RootMessage <span class="token operator">=</span> <span class="token punctuation">{</span>message<span class="token operator">:</span><span class="token string">'Hello World!!'</span><span class="token punctuation">}</span>
  res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token constant">PORT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">The magic is running on PORT:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">PORT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
</li>
</ul>
</li>
</ul>
<h1>Node package managers (npm &#x26; yarn)</h1>
<ul>
<li>When you install <code>Node.js</code> <code>npm</code> (Node Package Manager) gets installed along with it</li>
<li>NPM does 2 things:
<ul>
<li>It serves as an online platform registry where anyone can create/update/publish node packages</li>
<li>It's a command-line tool, where you can download packages from the npm registry</li>
</ul>
</li>
<li>Updating <strong>npm</strong>
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell">$ <span class="token function">npm</span> i -g <span class="token function">npm</span>
</code></pre></div>
</li>
<li>Yarn (Yet Another Resource Negotiator) is a JavaScript package manager created by Facebook. It provides similar functionalities as NPM. It is an alternative to NPM when installing, uninstalling, and managing package dependencies from the NPM registry or GitHub repositories.</li>
<li><em>It is recommended to install Yarn through the npm package manager, which comes bundled with Node.js when you install it on your system.</em></li>
<li>Updating <strong>yarn</strong>
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell">$ <span class="token function">npm</span> i -g <span class="token function">yarn</span>
</code></pre></div>
</li>
<li>Reasons for using yarn:
<ul>
<li>Enhanced security</li>
<li>Better stability</li>
<li>Faster</li>
<li>Has offline mode, can install packages from local cache</li>
<li>Resolved issues around <code>versioning</code> using <code>lock</code> files</li>
<li>Reuses NPM json files and doesn't change its structure</li>
<li>Imposes string guarantees around package installations</li>
<li>Active user community</li>
</ul>
</li>
<li>Not all roses
<ul>
<li>new package manager, sometimes more skepticism</li>
<li>Smaller community than NPM</li>
<li>Problems installing "Native Modules"</li>
<li>Doesn't work with Nodejs version &#x3C; 5</li>
</ul>
</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/79557260/138965939-58b9a4d5-2e38-4210-a471-b7f3d8d3ff5c.jpg" alt="similar-npm-vs-yarn-commands"></p>
<h1>The <code>package.json</code> file</h1>
<ul>
<li>The package.json file is a manifest for your project.</li>
<li>It also defines alot of other things like, list all the dependencies you application needs &#x26; versions</li>
<li>The easiest way to create one is <code>$ npm init -y</code></li>
<li>The file structure might have these properties inside
<ul>
<li><code>version</code> indicates the current version</li>
<li><code>name</code> sets the application/package name</li>
<li><code>description</code> is a brief description of the app/package</li>
<li><code>main</code> set the entry point for the application</li>
<li><code>private</code> if set to true prevents the app/package to be accidentally published on npm</li>
<li><code>scripts</code> defines a set of node scripts you can run</li>
<li><code>dependencies</code> sets a list of npm packages installed as dependencies</li>
<li><code>devDependencies</code> sets a list of npm packages installed as development dependencies</li>
<li><code>engines</code> sets which versions of Node.js this package/app works on</li>
<li><code>browserslist</code> is used to tell which browsers (and their versions) you want to support</li>
</ul>
</li>
<li>npm scripts, you can add whatever kinda of script in the <code>"scripts"</code> object.</li>
<li>Each script name has a <code>pre</code> &#x26; <code>post</code> hook that runs before or after that script. For example if you have a npm script that is called <code>build</code>, you can also have a <code>prebuild</code> and a <code>postbuild</code> script that you can define and when you run <code>$ npm run build | $ yarn build</code> it will preform: <code>prebuild</code>, then <code>build</code>, then <code>postbuild</code></li>
<li>In package.json you can set which versions you want to upgrade to (patch or minor), using the semver notation, for example:</li>
</ul>
<div class="remark-highlight"><pre class="language-html"><code class="language-html">exact package version               1.13.0 => 1.13.0
update patch and minor releases     ~1.13.0 => 1.13.*
exact version                       ^1.13.0 => 1.*.*
</code></pre></div>
<ul>
<li>Don't commit your <code>node_modules</code> files because the <code>package.json</code> is used to fetch and manage the packaged used for the nodejs project</li>
</ul>
<h2>The <code>package-lock.json</code> or <code>yarn.lock</code> file</h2>
<ul>
<li>In <code>version 5</code>, npm introduced the<code> package-lock.json</code> file.</li>
<li>The goal of package-lock.json file is to keep track of the exact version of every package that is installed so that a product is 100% reproducible in the same way even if packages are updated by their maintainers.</li>
<li>The package-lock.json sets your currently installed version of each package in stone, and npm will use those exact versions when running npm install.</li>
<li>The <code>package-lock.json</code> file needs to be committed to your Git repository, so it can be fetched by other people, if the project is public or you have collaborators, or if you use Git as a source for deployments.</li>
<li>The <code>yarn.lock</code> is the main source of information about the current versions of dependencies in a project if you are using yarn in your project instead of <code>npm</code>.</li>
</ul>
<h2>Controlling Nodejs version and npm or yarn version</h2>
<ul>
<li>You can force which version of Nodejs &#x26; npm/yarn version in the <code>package.json</code> file however you need to also use a <code>.npmrc</code> file with <code>engine-strict = true</code> set</li>
</ul>
<ol>
<li>Create/update the <code>.npmrc</code> file</li>
</ol>
<div class="remark-highlight"><pre class="language-text"><code class="language-text">engine-strict = true</code></pre></div>
<ol start="2">
<li>Update your package.json to have the node &#x26; npm/yarn versions</li>
</ol>
<ul>
<li>Force to use npm
<div class="remark-highlight"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"engines"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"node"</span><span class="token operator">:</span> <span class="token string">"v14.19.1"</span><span class="token punctuation">,</span>
    <span class="token property">"npm"</span><span class="token operator">:</span> <span class="token string">"8.5.5"</span><span class="token punctuation">,</span>
    <span class="token property">"yarn"</span><span class="token operator">:</span> <span class="token string">"please-use-npm"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
</li>
<li>Force yarn
<div class="remark-highlight"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"engines"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"node"</span><span class="token operator">:</span> <span class="token string">"v14.18.1"</span><span class="token punctuation">,</span>
    <span class="token property">"npm"</span><span class="token operator">:</span> <span class="token string">"please-use-yarn"</span><span class="token punctuation">,</span>
    <span class="token property">"yarn"</span><span class="token operator">:</span> <span class="token string">">=1.22 &#x3C;=2"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
</li>
</ul>
<ol start="3">
<li>(optional) you can also add a <code>.nvmrc</code> file to allow you to switch to the right Nodejs version</li>
</ol>
<ul>
<li>If you don't have nvm installed go <a href="https://github.com/nvm-sh/nvm">here</a> to install it.</li>
<li>Create the <code>.nvmrc</code> file
<div class="remark-highlight"><pre class="language-text"><code class="language-text">v16</code></pre></div>
</li>
<li>Now you can switch to that Nodejs version with
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell">$ nvm use
</code></pre></div>
</li>
</ul>
<ol start="4">
<li>(optional) If you are using vscode you can add an extension</li>
</ol>
<ul>
<li>If you want to automatically switch the version of node when you open up a terminal inside vscode there's an extension for that...</li>
<li>Got to your extensions in vscode and add <code>vsc-nvm</code></li>
<li>id => <code>henrynguyen5-vsc.vsc-nvm</code></li>
</ul>
<h2>Creating a npm package</h2>
<ul>
<li><strong>Sematic versioning</strong>
<BREAKING>.<FEATURE>.<FIX>
<MAJOR>.<MINOR>.<PATCH></li>
</ul>
<h2>For Every release</h2>
<ol>
<li>Run tests (if there are any)</li>
<li>Update version in package.json according to Semver</li>
<li>Create a git tag according to Semver
MAJOR.MINOR.PATCH
<code>$ git tag -a v#.#.# -m #.#.#</code></li>
<li>Push the package to Github</li>
<li>Push the package to npm</li>
<li>Create release notes for every update</li>
</ol>
<h2><strong>Conventional commits</strong></h2>
<!-- https://dev.to/joshaguilar/fully-automating-npm-package-releases-3k7e -->
<ul>
<li>A specification for adding human and machine readable meaning to commit messages.</li>
<li>It provides a set of rules for creating a commit history that can be easily used by automated tools such as a CI/CD pipeline.
<div class="remark-highlight"><pre class="language-text"><code class="language-text">&#x26;lt;type&#x26;gt;(optional scope): &#x26;lt;description&#x26;gt;
[optional body]
[optional footer(s)]</code></pre></div>
</li>
<li>There are multiple tools available to enforcing <strong>convential commits</strong>, like <a href="">husky</a>, <a href="https://github.com/conventional-changelog/commitlint">commitlint</a></li>
</ul>
<h2>Automating with semantic-release</h2>
<ul>
<li><code>semantic-release</code> automates the whole package release workflow including:
<ul>
<li>Determining the next version number</li>
<li>Generating the release notes</li>
<li>Publishing the package</li>
</ul>
</li>
</ul>
<ol>
<li>Convential commits</li>
<li>Add rules to enforce convential commits (husky or commitlint)</li>
<li>Automate with sematic-release</li>
</ol>
<ul>
<li>branch names:
<strong>feat</strong>: A new feature
<strong>fix</strong>: A bug fix
<strong>docs</strong>: Documentation only changes
<strong>style</strong>: Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc)
<strong>refactor</strong>: A code change that neither fixes a bug nor adds a feature
<strong>perf</strong>: A code change that improves performance
<strong>test</strong>: Adding missing or correcting existing tests
<strong>chore</strong>: Changes to the build process or auxiliary tools and libraries such as documentation generation</li>
</ul>
<h2>"resolutions" key</h2>
<ul>
<li><code>resolutions</code> is simply a map of package names and the exact versions of those packages that should be kept in the dependency tree, i.e. the below configuration will remove all versions of webpack that are not 5.6.0. As long you install webpack@5.6.0 version as a dependency of the project you are working with, this will guarantee that all packages load the same version of webpack.
<div class="remark-highlight"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"webpack"</span><span class="token operator">:</span> <span class="token string">"5.6.0"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"resolutions"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"webpack"</span><span class="token operator">:</span> <span class="token string">"5.6.0"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
</li>
</ul>
<h1>Short overview of CJS, AMD, UMD, and ESM in Javascript</h1>
<ul>
<li>In the beginging JavaScript didn't have a way to import/export modules you had to write all of our JS in a single file or load multiple files with <code>&#x3C;script /></code> tag in the browser.</li>
<li>People started to add modularity to JS with CJS, AMD, UMD, and ESM</li>
</ul>
<h2>CJS</h2>
<ul>
<li>CJS stands for CommonJS</li>
<li>Nodejs uses this module format</li>
<li>Importing of the modules is done synchronously</li>
<li>When CJS imports, it will give you a copy of the imported object.</li>
<li>CJS will <em>not</em> work in the browser. It will have to be transpiled and bundled.
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token comment">//importing </span>
<span class="token keyword">const</span> doSomething <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./doSomething.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token comment">//exporting</span>
module<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// do something</span>
<span class="token punctuation">}</span>
</code></pre></div>
</li>
</ul>
<h2>ESM</h2>
<ul>
<li>ESM stands for ES Modules</li>
<li>ESM enables named exports, better static analysis, tree-shaking, browsers native support, and most importantly, as a standard, it’s basically the future of JavaScript.
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// your Function</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// default export</span>
<span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function">function1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token spread operator">...</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// named export</span>
<span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function">function2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token spread operator">...</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// named export</span>
</code></pre></div>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>function1<span class="token punctuation">,</span> function2<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'./doSomething'</span><span class="token punctuation">;</span>
</code></pre></div>
</li>
</ul>
<h2>AMD</h2>
<ul>
<li>AMD stands for Asynchronous Module Definition</li>
<li>This module API supported by RequireJS.
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'doSomething'</span><span class="token punctuation">,</span> <span class="token string">'dep1'</span><span class="token punctuation">,</span> <span class="token string">'dep2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">doSomething<span class="token punctuation">,</span> dep1<span class="token punctuation">,</span> dep2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Define the module value by returning a value.</span>
    <span class="token keyword control-flow">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
</li>
</ul>
<h2>UMD</h2>
<ul>
<li>
<p>UMD stands for Universal Module Definition</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span> factory</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> define <span class="token operator">===</span> <span class="token string">"function"</span> <span class="token operator">&#x26;&#x26;</span> define<span class="token punctuation">.</span><span class="token property-access">amd</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"jquery"</span><span class="token punctuation">,</span> <span class="token string">"underscore"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> factory<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">"object"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"jquery"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"underscore"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
        root<span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Requester</span></span> <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token property-access">$</span><span class="token punctuation">,</span> root<span class="token punctuation">.</span><span class="token property-access">_</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">$<span class="token punctuation">,</span> _</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// this is where I defined my module implementation</span>
    <span class="token keyword">var</span> <span class="token maybe-class-name">Requester</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">// ... };</span>
    <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">Requester</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
</li>
</ul>
<h1>CJS &#x26; ESM</h1>
<!-- https://antfu.me/posts/publish-esm-and-cjs -->
<ul>
<li>
<p>In May, 2020, Node.js <code>v12.17.0</code> made ESM support available to all Node.js applications (<strong>without experimental flags</strong>).</p>
</li>
<li>
<p>Common.js can't run in the browser directly it needs a bundler, ES Modules can run in newer browsers and the bundler is optional</p>
</li>
<li>
<p>You are most likely using ESM when working with web development</p>
</li>
<li>
<p>Commonjs is becomming the old way we work with JavaScript</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">funcOne</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token arrow operator">=></span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"commonjs func one"</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> funcOne
</code></pre></div>
</li>
<li>
<p>Commonjs exporting multiple functions in one file</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">funcOne</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token arrow operator">=></span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"commonjs func 1"</span><span class="token punctuation">)</span> 
<span class="token keyword">const</span> <span class="token function-variable function">funcTown</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token arrow operator">=></span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"commonjs funcky town!"</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> <span class="token punctuation">{</span> funcOne<span class="token punctuation">,</span> funcTown <span class="token punctuation">}</span>
</code></pre></div>
</li>
<li>
<p>Commonjs using those files</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> something <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./filename'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token keyword">const</span> <span class="token punctuation">{</span> funcOne<span class="token punctuation">,</span> funcTown <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./filename2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
</li>
<li>
<p>ESM</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">funcOne</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token arrow operator">=></span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"commonjs func 1"</span><span class="token punctuation">)</span> 
<span class="token keyword module">export</span> <span class="token keyword module">default</span> funcOne
</code></pre></div>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">funcOne</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token arrow operator">=></span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"commonjs func 1"</span><span class="token punctuation">)</span> 
<span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">funcTown</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token arrow operator">=></span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"commonjs funcky town!"</span><span class="token punctuation">)</span>
</code></pre></div>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports">something</span> <span class="token keyword module">from</span> <span class="token string">'./filename'</span><span class="token punctuation">;</span> <span class="token comment">// Default export</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> funcOne<span class="token punctuation">,</span> funcTown <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'./filename2'</span><span class="token punctuation">;</span> <span class="token comment">// Named exports</span>
</code></pre></div>
</li>
</ul>
<h2>ESM in the browser</h2>
<ul>
<li>
<p>So with <a href="https://caniuse.com/?search=esm">modern browsers</a> all you have to do in have an attribute on your <code>&#x3C;script></code> tag called <code>type="module"</code> and you should now be able to use <code>import</code> &#x26; <code>export</code> in that script file/online without needing a bundler!</p>
</li>
<li>
<p>What a package only exports to CommonJS?? well this is where <code>esinstall</code> comes in.</p>
</li>
<li>
<p><code>esinstall</code> is a development tool that converts any JavaScript package into a single ES6-module-friendly file that you can check into your codebase and import.</p>
</li>
<li>
<p>You can run this conversion just once on install, so there’s no need to set up file watching or other unnecessary tooling.</p>
</li>
<li>
<p>To set it up, update our package.json like so:</p>
<div class="remark-highlight"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"some-awesome-project"</span><span class="token punctuation">,</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"postinstall"</span><span class="token operator">:</span> <span class="token string">"node convert-to-esm.mjs"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"some-commonjs-package"</span><span class="token operator">:</span> <span class="token string">"^1.2.3"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"esinstall"</span><span class="token operator">:</span> <span class="token string">"^1.1.7"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"esinstall"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"install"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"some-commonjs-package"</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
</li>
<li>
<p>This package.json update does a couple of things:</p>
<ul>
<li>Declares <code>esinstall</code> as a dev dependency</li>
<li>Add a <code>esinstall</code> block for listing all packages we want convert from CommonJS to ESM</li>
<li>Defines a <code>postinstall</code> script that will run after we install anything with <code>$ npm install | $ yarn</code></li>
</ul>
</li>
<li>
<p>Now the code for the <code>postinstall</code> npm script:</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> install <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'esinstall'</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> readFile <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'fs/promises'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> json <span class="token operator">=</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span>
  <span class="token keyword control-flow">await</span> <span class="token function">readFile</span><span class="token punctuation">(</span>
    <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span><span class="token string">'./package.json'</span><span class="token punctuation">,</span> <span class="token keyword module">import</span><span class="token punctuation">.</span><span class="token property-access">meta</span><span class="token punctuation">.</span><span class="token property-access">url</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> moduleList <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token property-access">esinstall</span><span class="token punctuation">.</span><span class="token property-access">install</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> installOptions <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token property-access">esinstall</span><span class="token punctuation">.</span><span class="token property-access">installOptions</span><span class="token punctuation">;</span>

<span class="token keyword control-flow">await</span> <span class="token function">install</span><span class="token punctuation">(</span>moduleList<span class="token punctuation">,</span> installOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
</li>
<li>
<p>Now all you have to do is run <code>$ npm install || $ yarn </code></p>
</li>
</ul>
<h1>ESM import/export files</h1>
<ul>
<li>
<p>If you have a folder structure of and your <code>MyComponent</code> has a <code>default export</code>
├── MyComponent.stories.jsx
├── MyComponent.jsx
├── MyComponent.module.css
└── index.js</p>
</li>
<li>
<p>Your <code>index.js</code> content</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token comment">// import MyComponent from './MyComponent'</span>
<span class="token comment">// export default MyComponent</span>

<span class="token keyword module">export</span> <span class="token exports"><span class="token punctuation">{</span> <span class="token keyword module">default</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'./MyComponent'</span>
</code></pre></div>
</li>
<li>
<p>If you have a folder structure of and your <code>MyComponent</code> has a <code>named export</code></p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token comment">// export { default as ComponentOne } from './MyComponent'</span>
<span class="token comment">// export { default as ComponentTwo } from './MyComponent'</span>
<span class="token comment">// export { default as ComponentThree } from './MyComponent'</span>
</code></pre></div>
</li>
</ul>
<h1>Creating a CLI</h1>
<ul>
<li>There are 2 types of packages you can create: <code>global</code> &#x26; <code>local</code></li>
<li>The <code>global</code> package can be installed an run like a bash command</li>
<li>Start by creating a new package
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell">$ <span class="token function">npm</span> init -y
</code></pre></div>
</li>
<li>Create a <code>bin/index.js</code> file
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token hashbang comment">#!/usr/bin/env node</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>
</code></pre></div>
</li>
<li>In your <code>package.json</code> file add
<div class="remark-highlight"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"your-module-name"</span><span class="token punctuation">,</span>
  <span class="token property">"bin"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"your-module-name"</span><span class="token operator">:</span> <span class="token string">"./bin/index.js"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
</li>
<li>Link this application on your machine so you can test it out
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell">$ <span class="token function">npm</span> <span class="token function">link</span>
</code></pre></div>
</li>
<li>Now you can run your CLI
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell">$ your-module-name
</code></pre></div>
</li>
<li>You can publish it too</li>
</ul>
<h1>Spawn</h1>
<ul>
<li>Node.js runs in a single-thread mode, but it uses an event-driven paradigm to handle concurrency.</li>
<li>It also facilitates creation of child processes to leverage parallel processing on multi-core CPU based systems.</li>
<li>Node provides child_process module which has the following three major ways to create a child process.
<ul>
<li>
<p><em>exec</em> − <code>child_process.exec</code> method runs a command in a shell/console and buffers the output.</p>
</li>
<li>
<p><em>spawn</em> − <code>child_process.spawn</code> launches a new process with a given command.</p>
</li>
<li>
<p><em>fork</em> − The <code>child_process.fork</code> method is a special case of the spawn() to create child processes.</p>
</li>
</ul>
</li>
</ul>
<h1>Node tools</h1>
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell"><span class="token comment"># Find out-of-day packages</span>
$ npx npm-upgrade

$ npx depcheck

<span class="token comment"># Find and delete `node_modules` on your machine</span>
$ npx npkill
</code></pre></div>
<h1>Killing your local server that is going rogue</h1>
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell"><span class="token comment"># Find:</span>
$ <span class="token function">sudo</span> <span class="token function">lsof</span> -i :3000

<span class="token comment"># Kill:</span>
$ <span class="token function">kill</span> -9 <span class="token operator">&#x3C;</span>PID<span class="token operator">></span>
</code></pre></div>
<h1>Git hooks</h1>
<ul>
<li>
<p>Automation is always good, especially when it reduces congnitive load and optimization</p>
</li>
<li>
<p>We can automate things before we create commits or push changes to a repo</p>
</li>
<li>
<p>The <code>.git</code> ditectory allows you to do native hooks if you want to or you can use something like husky to do all the heavy lifting for you and you can stay in JS land :)</p>
</li>
<li>
<p>Check out the <a href="https://typicode.github.io/husky/#/">Husky docs here</a></p>
</li>
<li>
<p>Husky works with all <a href="https://git-scm.com/docs/githooks">githooks</a></p>
</li>
<li>
<p>Intall husky with:</p>
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell">$ npx husky-init <span class="token operator">&#x26;&#x26;</span> <span class="token function">npm</span> <span class="token function">install</span> 
</code></pre></div>
</li>
<li>
<p>This will automatically wireup all the git hooks and add a script <code>.husky/pre-commit</code> where you can add whatever command run before a commit</p>
<div class="remark-highlight"><pre class="language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/sh</span>
<span class="token builtin class-name">.</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">dirname</span> <span class="token string">"<span class="token variable">$0</span>"</span><span class="token variable">)</span></span>/_/husky.sh"</span>

<span class="token function">npm</span> run lint
</code></pre></div>
</li>
<li>
<p>It will setup husky, modify <code>package.json</code> and create a sample <code>pre-commit</code> hook that you can edit. - By default, it will run npm test when you commit.</p>
</li>
<li>
<p>To add another hook use husky add.</p>
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell">$ npx husky <span class="token function">add</span> .husky/pre-push <span class="token string">'npm run lint &#x26;&#x26; npm run test:ci'</span>
</code></pre></div>
</li>
<li>
<p>This will create <code>.husky/pre-push</code></p>
<div class="remark-highlight"><pre class="language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/sh</span>
<span class="token builtin class-name">.</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">dirname</span> <span class="token string">"<span class="token variable">$0</span>"</span><span class="token variable">)</span></span>/_/husky.sh"</span>

<span class="token function">npm</span> run lint <span class="token operator">&#x26;&#x26;</span> <span class="token function">npm</span> run test:ci
</code></pre></div>
</li>
</ul>
<h1>JWT (JSON Web Tokens)</h1>
<p>https://auth0.com/docs/tokens/json-web-tokens/json-web-token-claims#reserved-claims</p>
<h1>JS Doc</h1>
<ul>
<li>There are alot of ways to document your code; README, tutorials, documentation file, etc</li>
<li>The problem with the one above is they get out of date quickly, it's best to put your documentaion as close to the code so that you can update it as you up update the functionality.</li>
<li>JSDoc is perfect for this kinda documentation layer, plus if you are using vscode it will give you intellesence!</li>
</ul>
<ol>
<li>Start with a code block</li>
</ol>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token doc-comment comment">/**</span>
<span class="token doc-comment comment"> * Takes in to numbers and will add them</span>
<span class="token doc-comment comment"> */</span>
<span class="token keyword">function</span> <span class="token function">addItems</span><span class="token punctuation">(</span><span class="token parameter">item1<span class="token punctuation">,</span> item2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> item1 <span class="token operator">+</span> item2
<span class="token punctuation">}</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> addItems
</code></pre></div>
<ol start="2">
<li>Add a description of what it does</li>
</ol>
<ul>
<li>The function name should give it away but it gives you a chance to descript it with words)
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token doc-comment comment">/**</span>
<span class="token doc-comment comment"> * Takes in to numbers and will add them</span>
<span class="token doc-comment comment"> */</span>
<span class="token keyword">function</span> <span class="token function">addItems</span><span class="token punctuation">(</span><span class="token parameter">item1<span class="token punctuation">,</span> item2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> item1 <span class="token operator">+</span> item2
<span class="token punctuation">}</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> addItems
</code></pre></div>
</li>
<li><img src="plublic/assets/blog/jsdoc-description-only.jpg" alt="jsdoc-description-only"></li>
</ul>
<ol start="2">
<li>Now describe the params and the return</li>
</ol>
<ul>
<li>Here is what the format looks like
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token doc-comment comment">/**
*
* <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>param type<span class="token punctuation">}</span></span> <span class="token parameter">param</span> name - description
*
*/</span>
</code></pre></div>
</li>
<li>Now let's add those
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token doc-comment comment">/**
 * Takes in to numbers and will add them
 *
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">}</span></span> <span class="token parameter">item1</span> - First number
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">}</span></span> <span class="token parameter">item2</span> - Second number
 * <span class="token keyword">@returns</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">}</span></span> Sum of the 2 numbers
 */</span>
<span class="token keyword">function</span> <span class="token function">addItems</span><span class="token punctuation">(</span><span class="token parameter">item1<span class="token punctuation">,</span> item2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> item1 <span class="token operator">+</span> item2
<span class="token punctuation">}</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> addItems
</code></pre></div>
</li>
<li><img src="plublic/assets/blog/jsdoc-complete.jpg" alt="jsdoc-complete"></li>
</ul>
<ol start="3">
<li>Use the function</li>
</ol>
<ul>
<li>
<p>As you start to type in the parameter it will tell you the data type</p>
</li>
<li>
<p><img src="plublic/assets/blog/jsdoc-using.jpg" alt="jsdoc-using"></p>
</li>
<li>
<p>Example of JSDoc</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token doc-comment comment">/**
 * Raises a number to exponent
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">}</span></span> <span class="token parameter">value</span> - The base to raise
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">}</span></span> <span class="token parameter">exponent</span> - The exponent
 * <span class="token keyword">@return</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">}</span></span> - The exponent power
 */</span>

 <span class="token doc-comment comment">/**
 * A silly logger function
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">message</span>
 * <span class="token keyword">@return</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword">void</span><span class="token punctuation">}</span></span> Nothing
 */</span>


 <span class="token doc-comment comment">/**
 * Generates a table head
 * <span class="token keyword">@author</span> Valentino Gagliardi &#x3C;valentinoDOTvalentinog.com>
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>HTMLTableElement<span class="token punctuation">}</span></span> <span class="token parameter">table</span> - The target HTML table
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>Array<span class="token punctuation">}</span></span> <span class="token parameter">data</span> - The array of cell header names
 */</span>
</code></pre></div>
</li>
<li>
<p>Generate docs</p>
<ul>
<li>You can use the <code>jsdoc</code> to generate documentation for all your functions</li>
<li><em>Note</em> if you use <code>export default function yourFunctionName()</code> it won't create it you have to define it with just <code>function yourFunctionName()</code> then export it on another line <code>export default yourFunctionName</code></li>
<li>Add the <code>jsdoc</code> package to your repo
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell">$ <span class="token function">mkdir</span> docs
$ <span class="token function">npm</span> i -D jsdoc
</code></pre></div>
</li>
<li>update your <code>package.json</code> file
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token string-property property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">"make:docs"</span><span class="token operator">:</span><span class="token string">"jsdoc -d documentation src/*.js "</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div>
</li>
<li>now run the doc generator
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell">$ <span class="token function">npm</span> run make:docs
$ <span class="token builtin class-name">cd</span> documentation
$ npx live-server
</code></pre></div>
</li>
</ul>
</li>
</ul>
<h1>Download images from the web</h1>
<ul>
<li>
<p>Downloading an image is different then download data, you gotta use streams</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"fs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token maybe-class-name">Axios</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"axios"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">downloadImage</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> filepath</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function"><span class="token maybe-class-name">Axios</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    url<span class="token punctuation">,</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">responseType</span><span class="token operator">:</span> <span class="token string">"stream"</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
    response<span class="token punctuation">.</span><span class="token property-access">data</span>
      <span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token method function property-access">createWriteStream</span><span class="token punctuation">(</span>filepath<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">"error"</span><span class="token punctuation">,</span> reject<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token method function property-access">once</span><span class="token punctuation">(</span><span class="token string">"close"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token function">resolve</span><span class="token punctuation">(</span>filepath<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token constant">BASE_URL</span> <span class="token operator">=</span> <span class="token string">"https://some-place.com"</span><span class="token punctuation">;</span>

<span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token known-class-name class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> pictureNum</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> fileName <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pictureNum <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.jpg</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> webUrl <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">BASE_URL</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> downloadFilename <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">../art/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">____</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">downloadImage</span><span class="token punctuation">(</span>webUrl<span class="token punctuation">,</span> downloadFilename<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token property-access">log</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword control-flow">catch</span><span class="token punctuation">(</span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token property-access">error</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
</li>
</ul>
</div></div></article></div></main></div><footer class="bg-accent-1 border-t border-accent-2"><div class="container mx-auto px-5"><div class="py-28 flex flex-col lg:flex-row items-center"><div class="flex flex-col lg:flex-row justify-center items-center lg:pl-4 lg:w-1/2"><a href="/">Learn something else</a></div></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"node.js","slug":"node.js","content":"\u003ch1\u003eWhat is Nodejs\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003eNode.js is an open-source and cross-platform JavaScript runtime environment.\u003c/li\u003e\n\u003cli\u003eNode.js runs the V8 JavaScript engine, the core of Google Chrome, outside of the browser. This allows Node.js to be very performant.\u003c/li\u003e\n\u003cli\u003eBoth the browser and Node.js use JavaScript as their programming language.\u003c/li\u003e\n\u003cli\u003eNode.js you don't have the \u003ccode\u003edocument\u003c/code\u003e, \u003ccode\u003ewindow\u003c/code\u003e and all the other objects that are provided by the browser.\u003c/li\u003e\n\u003cli\u003eThe Browser we don't have all the nice APIs that allow for filesystem access functionality\u003c/li\u003e\n\u003cli\u003eAn additional feature that Nodejs provides is control over teh environment\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eCommon npm commands\u003c/h2\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e init\n$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e init -y\n$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e \u003cspan class=\"token function\"\u003einstall\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003ePACKAGE_NAME\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e \u003cspan class=\"token operator\"\u003e|\u003c/span\u003e  \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003ePACKAGE_NAME\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\n\n$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e view \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003ePACKAGE_NAME\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\n$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e view \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003ePACKAGE_NAME\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e versions\n\n$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e \u003cspan class=\"token function\"\u003einstall\u003c/span\u003e -g \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003eSOME_GLOBAL_PACKAGE\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\n$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e uninstall \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003ePACKAGE_NAME\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e \u003cspan class=\"token operator\"\u003e|\u003c/span\u003e \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e un \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003ePACKAGE_NAME\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\n\n$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e update \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003ePACKAGE_NAME\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e \u003cspan class=\"token operator\"\u003e|\u003c/span\u003e \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e up \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003ePACKAGE_NAME\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\n$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e update\n$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e audit\n\n$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e version\n$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e publish\n\n\n\u003cspan class=\"token comment\"\u003e# Run a npm script\u003c/span\u003e\n$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e run \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003eNPM_SCRIPT_NAME\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e# list globally installed packages\u003c/span\u003e\n$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e list -g --depth\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e# Update npm\u003c/span\u003e\n$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e \u003cspan class=\"token function\"\u003einstall\u003c/span\u003e -g npm@latest\n\n\u003cspan class=\"token comment\"\u003e# list installed packages and versions\u003c/span\u003e\n$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e list \u003cspan class=\"token operator\"\u003e|\u003c/span\u003e \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e \u003cspan class=\"token function\"\u003els\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e# Install clean slate of the packages\u003c/span\u003e\n$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e ci\n\n\u003cspan class=\"token comment\"\u003e# Symlink a package folder, to used it locally without publishing it \u003c/span\u003e\n$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e \u003cspan class=\"token function\"\u003elink\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e# Updates all dependencies in project.\u003c/span\u003e\n\u003cspan class=\"token function\"\u003enpm\u003c/span\u003e update\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch1\u003eInstallation\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003eThere are a few ways to install Nodejs on your machine\u003c/li\u003e\n\u003cli\u003eThere are 2 main versions to consider \u003ccode\u003eLTS\u003c/code\u003e and \u003ccode\u003eCurrent\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eLTS\u003c/code\u003e is for Long Term Support which is the stable version as for the \u003ccode\u003eCurrent\u003c/code\u003e is the more cutting edge\u003c/li\u003e\n\u003cli\u003eNodejs even versions are stable and odd versions for the lastest versions\u003c/li\u003e\n\u003cli\u003eMore about release dates and versions \u003ca href=\"https://nodejs.org/en/about/releases/\"\u003ego here\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003col\u003e\n\u003cli\u003eInstall from the \u003ca href=\"https://nodejs.org/en/\"\u003enodejs\u003c/a\u003e homepage\u003c/li\u003e\n\u003cli\u003eHomeBrew on your mac\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/nvm-sh/nvm\"\u003eNVM\u003c/a\u003e (My prefered way cause you can switch node versions easily)\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003eInstalling nodejs via Homepage\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eInstall the latest binaries \u003ca href=\"https://nodejs.org/en/download/\"\u003ehere\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eInstalling nodejs via HomeBrew\u003c/h2\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e$ brew update\n$ brew upgrade \u003cspan class=\"token function\"\u003enode\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch2\u003eInstall nodejs with nvm\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eInstall via homebrew\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://dev.topheman.com/install-nvm-with-homebrew-to-use-multiple-versions-of-node-and-iojs-easily/\"\u003etut\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e$ brew update\n$ brew \u003cspan class=\"token function\"\u003einstall\u003c/span\u003e nvm\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e\u003cspan class=\"token comment\"\u003e# NVM installed via homebrew\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e -s \u003cspan class=\"token environment constant\"\u003e$HOME\u003c/span\u003e/.nvm/nvm.sh \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e \u003cspan class=\"token builtin class-name\"\u003e.\u003c/span\u003e \u003cspan class=\"token environment constant\"\u003e$HOME\u003c/span\u003e/.nvm/nvm.sh\n\u003cspan class=\"token builtin class-name\"\u003eexport\u003c/span\u003e \u003cspan class=\"token assign-left variable\"\u003eNVM_DIR\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"/.nvm\"\u003c/span\u003e\n\u003cspan class=\"token builtin class-name\"\u003esource\u003c/span\u003e \u003cspan class=\"token variable\"\u003e\u003cspan class=\"token variable\"\u003e$(\u003c/span\u003ebrew --prefix nvm\u003cspan class=\"token variable\"\u003e)\u003c/span\u003e\u003c/span\u003e/nvm.sh\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eInstall via the \u003ca href=\"https://github.com/nvm-sh/nvm\"\u003eruby way\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eAdd this to your bash/zshrc:\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e\u003cspan class=\"token comment\"\u003e# NVM\u003c/span\u003e\n\u003cspan class=\"token builtin class-name\"\u003eexport\u003c/span\u003e \u003cspan class=\"token assign-left variable\"\u003eNVM_DIR\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"\u003cspan class=\"token environment constant\"\u003e$HOME\u003c/span\u003e/.nvm\"\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e -s \u003cspan class=\"token string\"\u003e\"\u003cspan class=\"token variable\"\u003e$NVM_DIR\u003c/span\u003e/nvm.sh\"\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e. \u003cspan class=\"token string\"\u003e\"\u003cspan class=\"token variable\"\u003e$NVM_DIR\u003c/span\u003e/nvm.sh\"\u003c/span\u003e  \u003cspan class=\"token comment\"\u003e# This loads nvm\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e -s \u003cspan class=\"token string\"\u003e\"\u003cspan class=\"token variable\"\u003e$NVM_DIR\u003c/span\u003e/bash_completion\"\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e. \u003cspan class=\"token string\"\u003e\"\u003cspan class=\"token variable\"\u003e$NVM_DIR\u003c/span\u003e/bash_completion\"\u003c/span\u003e  \u003cspan class=\"token comment\"\u003e# This loads nvm bash_completion\u003c/span\u003e\n\u003cspan class=\"token assign-left variable\"\u003e\u003cspan class=\"token environment constant\"\u003ePATH\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"/usr/local/opt/grep/libexec/gnubin:\u003cspan class=\"token environment constant\"\u003e$PATH\u003c/span\u003e\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cem\u003enote :\u003c/em\u003e every time you switch node versions you'll have to install all your globals again as well as you will have to delete your projects \u003ccode\u003enode_modules\u003c/code\u003e because these dependencies are specfic to the exact node version \u0026#x26; OS installed\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eUpgrade \u003ccode\u003eNVM\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e$ nvm \u003cspan class=\"token function\"\u003einstall\u003c/span\u003e stable --reinstall-packages-from\u003cspan class=\"token operator\"\u003e=\u003c/span\u003ecurrent\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eIf your npm global packages point to a different nodejs version run this\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e list -g --depth\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\n$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e config \u003cspan class=\"token function\"\u003erm\u003c/span\u003e prefix\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eNVM commands\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e\u003cspan class=\"token comment\"\u003e# Check nodejs version\u003c/span\u003e\n$ \u003cspan class=\"token function\"\u003enode\u003c/span\u003e -v \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e \u003cspan class=\"token function\"\u003enode\u003c/span\u003e --version\n\n\u003cspan class=\"token comment\"\u003e# List installed versions of node (via nvm)\u003c/span\u003e\n$ nvm \u003cspan class=\"token function\"\u003els\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e# Install specific version of node\u003c/span\u003e\n$ nvm \u003cspan class=\"token function\"\u003einstall\u003c/span\u003e \u003cspan class=\"token number\"\u003e12.20\u003c/span\u003e.1\n\n\u003cspan class=\"token comment\"\u003e# Set default version of node\u003c/span\u003e\n$ nvm \u003cspan class=\"token builtin class-name\"\u003ealias\u003c/span\u003e default \u003cspan class=\"token number\"\u003e12.20\u003c/span\u003e.1\n\n\u003cspan class=\"token comment\"\u003e# Switch version of node\u003c/span\u003e\n$ nvm use \u003cspan class=\"token number\"\u003e14.15\u003c/span\u003e.4\n\n\u003cspan class=\"token comment\"\u003e# List latest available versions\u003c/span\u003e\n$ nvm ls-remote \u003cspan class=\"token operator\"\u003e|\u003c/span\u003e \u003cspan class=\"token function\"\u003egrep\u003c/span\u003e -i \u003cspan class=\"token string\"\u003e'latest'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eUsing Docker to local development\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eInitialize a nodejs\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e init -y\n$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e i express\n$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e i -D nodemon\n$ \u003cspan class=\"token function\"\u003emkdir\u003c/span\u003e src\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eUpdate the \u003ccode\u003epackage.json\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-json\"\u003e\u003ccode class=\"language-json\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"docker\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"version\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"1.0.0\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"description\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Example of working with Docker and Expressjs\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"main\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"index.js\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"scripts\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"start\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"node ./src\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"dev\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"nodemon ./src\"\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"keywords\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"author\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"license\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"ISC\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"dependencies\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"express\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"^4.17.1\"\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"devDependencies\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"nodemon\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"^2.0.7\"\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"engines\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"node\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"\u003e= 14.0.0\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"npm\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"\u003e= 7.0.0\"\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eCreate the \u003ccode\u003esrc/index.js\u003c/code\u003e file\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e express \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003erequire\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'express'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e// Constants\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token constant\"\u003ePORT\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e process\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eenv\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token constant\"\u003ePORT\u003c/span\u003e \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e \u003cspan class=\"token number\"\u003e8080\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token constant\"\u003eHOST\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e process\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eenv\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token constant\"\u003eHOST\u003c/span\u003e \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e \u003cspan class=\"token string\"\u003e'0.0.0.0'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e// App\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e app \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003eexpress\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\napp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eget\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'/'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003ereq\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e res\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  res\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003esend\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'Hello World!!!'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\napp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elisten\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token constant\"\u003ePORT\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token constant\"\u003eHOST\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token string\"\u003eThe magic is running on http://\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003e\u003cspan class=\"token constant\"\u003eHOST\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e:\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003e\u003cspan class=\"token constant\"\u003ePORT\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eCreate a \u003ccode\u003e.gitignore\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003enode_modules\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eCreate a \u003ccode\u003eDockerfile\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-docker\"\u003e\u003ccode class=\"language-docker\"\u003e\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eFROM\u003c/span\u003e node:14\u003c/span\u003e\n\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eWORKDIR\u003c/span\u003e /usr/src/app\u003c/span\u003e\n\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eCOPY\u003c/span\u003e package*.json ./\u003c/span\u003e\n\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eRUN\u003c/span\u003e npm install\u003c/span\u003e\n\n\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eCOPY\u003c/span\u003e . .\u003c/span\u003e\n\n\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eEXPOSE\u003c/span\u003e 8080\u003c/span\u003e\n\n\u003cspan class=\"token instruction\"\u003e\u003cspan class=\"token keyword\"\u003eCMD\u003c/span\u003e [ \u003cspan class=\"token string\"\u003e\"npm\"\u003c/span\u003e, \u003cspan class=\"token string\"\u003e\"start\"\u003c/span\u003e ]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eCreate a \u003ccode\u003e.dockerignore\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003enode_modules\nnpm-debug.log\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eCreate a docker image for your application to develop with\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e$ \u003cspan class=\"token function\"\u003edocker\u003c/span\u003e build \u003cspan class=\"token builtin class-name\"\u003e.\u003c/span\u003e -t \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003eDOCKER_USERNAME\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e/node-web-app\n$ \u003cspan class=\"token function\"\u003edocker\u003c/span\u003e run -it -p \u003cspan class=\"token number\"\u003e8080\u003c/span\u003e:8080 -v \u003cspan class=\"token variable\"\u003e\u003cspan class=\"token variable\"\u003e$(\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003epwd\u003c/span\u003e\u003cspan class=\"token variable\"\u003e)\u003c/span\u003e\u003c/span\u003e:/usr/src/app --name my_awesome_app -d \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003eDOCKER_USERNAME\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e/node-web-app  \u003cspan class=\"token function\"\u003esh\u003c/span\u003e -c \u003cspan class=\"token string\"\u003e'npm run dev'\u003c/span\u003e \n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eThe above allows you to develop inside the docker container via a volume\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eWhen you are ready to publish you can create an image with a version\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e$ \u003cspan class=\"token function\"\u003edocker\u003c/span\u003e build \u003cspan class=\"token builtin class-name\"\u003e.\u003c/span\u003e -t \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003eDOCKER_USERNAME\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e/node-web-app:v0.1\n$ \u003cspan class=\"token function\"\u003edocker\u003c/span\u003e run -p \u003cspan class=\"token number\"\u003e8080\u003c/span\u003e:8080 --name my_awesome_app_prod -d \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003eDOCKER_USERNAME\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e/node-web-app:v0.1\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eAdd TypeScript\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eInstall typescript\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e \u003cspan class=\"token function\"\u003einstall\u003c/span\u003e -D typescript ts-node @types/node @types/express\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003eUpdate your \u003ccode\u003epackage.json\u003c/code\u003e file\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-json\"\u003e\u003ccode class=\"language-json\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"scripts\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"start\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"node ./dist/src\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"dev\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"nodemon ./src/index.ts\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"build\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"tsc\"\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cul\u003e\n\u003cli\u003eCreate a \u003ccode\u003etsconfig.json\u003c/code\u003e file\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-json\"\u003e\u003ccode class=\"language-json\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"compilerOptions\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"module\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"commonjs\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"target\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"es6\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"rootDir\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"./\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"outDir\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"dist\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"esModuleInterop\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003eRename \u003ccode\u003esrc/index.js\u003c/code\u003e to \u003ccode\u003esrc/index.ts\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eNow you can use \u003ccode\u003eimport\u003c/code\u003e instead of commonjs \u003ccode\u003erequire(\u0026#x3C;package_name\u003e)\u003c/code\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-ts\"\u003e\u003ccode class=\"language-ts\"\u003e\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e express\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e Request\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e Response\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e NextFunction \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e'express'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e// Constants\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token constant\"\u003ePORT\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e process\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eenv\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token constant\"\u003ePORT\u003c/span\u003e \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e \u003cspan class=\"token number\"\u003e3000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e// Types\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eRootMessage\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  message\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e// App\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e app \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003eexpress\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\napp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eget\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'/'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ereq\u003cspan class=\"token operator\"\u003e:\u003c/span\u003eRequest\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e res\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e Response\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e message\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e RootMessage \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003emessage\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e'Hello World!!'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  res\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003estatus\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e200\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003esend\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003emessage\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\napp\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003elisten\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token constant\"\u003ePORT\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token builtin\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token string\"\u003eThe magic is running on PORT:\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003e\u003cspan class=\"token constant\"\u003ePORT\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003eNode package managers (npm \u0026#x26; yarn)\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003eWhen you install \u003ccode\u003eNode.js\u003c/code\u003e \u003ccode\u003enpm\u003c/code\u003e (Node Package Manager) gets installed along with it\u003c/li\u003e\n\u003cli\u003eNPM does 2 things:\n\u003cul\u003e\n\u003cli\u003eIt serves as an online platform registry where anyone can create/update/publish node packages\u003c/li\u003e\n\u003cli\u003eIt's a command-line tool, where you can download packages from the npm registry\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eUpdating \u003cstrong\u003enpm\u003c/strong\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e i -g \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003eYarn (Yet Another Resource Negotiator) is a JavaScript package manager created by Facebook. It provides similar functionalities as NPM. It is an alternative to NPM when installing, uninstalling, and managing package dependencies from the NPM registry or GitHub repositories.\u003c/li\u003e\n\u003cli\u003e\u003cem\u003eIt is recommended to install Yarn through the npm package manager, which comes bundled with Node.js when you install it on your system.\u003c/em\u003e\u003c/li\u003e\n\u003cli\u003eUpdating \u003cstrong\u003eyarn\u003c/strong\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e i -g \u003cspan class=\"token function\"\u003eyarn\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003eReasons for using yarn:\n\u003cul\u003e\n\u003cli\u003eEnhanced security\u003c/li\u003e\n\u003cli\u003eBetter stability\u003c/li\u003e\n\u003cli\u003eFaster\u003c/li\u003e\n\u003cli\u003eHas offline mode, can install packages from local cache\u003c/li\u003e\n\u003cli\u003eResolved issues around \u003ccode\u003eversioning\u003c/code\u003e using \u003ccode\u003elock\u003c/code\u003e files\u003c/li\u003e\n\u003cli\u003eReuses NPM json files and doesn't change its structure\u003c/li\u003e\n\u003cli\u003eImposes string guarantees around package installations\u003c/li\u003e\n\u003cli\u003eActive user community\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eNot all roses\n\u003cul\u003e\n\u003cli\u003enew package manager, sometimes more skepticism\u003c/li\u003e\n\u003cli\u003eSmaller community than NPM\u003c/li\u003e\n\u003cli\u003eProblems installing \"Native Modules\"\u003c/li\u003e\n\u003cli\u003eDoesn't work with Nodejs version \u0026#x3C; 5\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cimg src=\"https://user-images.githubusercontent.com/79557260/138965939-58b9a4d5-2e38-4210-a471-b7f3d8d3ff5c.jpg\" alt=\"similar-npm-vs-yarn-commands\"\u003e\u003c/p\u003e\n\u003ch1\u003eThe \u003ccode\u003epackage.json\u003c/code\u003e file\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003eThe package.json file is a manifest for your project.\u003c/li\u003e\n\u003cli\u003eIt also defines alot of other things like, list all the dependencies you application needs \u0026#x26; versions\u003c/li\u003e\n\u003cli\u003eThe easiest way to create one is \u003ccode\u003e$ npm init -y\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eThe file structure might have these properties inside\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eversion\u003c/code\u003e indicates the current version\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ename\u003c/code\u003e sets the application/package name\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edescription\u003c/code\u003e is a brief description of the app/package\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003emain\u003c/code\u003e set the entry point for the application\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eprivate\u003c/code\u003e if set to true prevents the app/package to be accidentally published on npm\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003escripts\u003c/code\u003e defines a set of node scripts you can run\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edependencies\u003c/code\u003e sets a list of npm packages installed as dependencies\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edevDependencies\u003c/code\u003e sets a list of npm packages installed as development dependencies\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eengines\u003c/code\u003e sets which versions of Node.js this package/app works on\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ebrowserslist\u003c/code\u003e is used to tell which browsers (and their versions) you want to support\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003enpm scripts, you can add whatever kinda of script in the \u003ccode\u003e\"scripts\"\u003c/code\u003e object.\u003c/li\u003e\n\u003cli\u003eEach script name has a \u003ccode\u003epre\u003c/code\u003e \u0026#x26; \u003ccode\u003epost\u003c/code\u003e hook that runs before or after that script. For example if you have a npm script that is called \u003ccode\u003ebuild\u003c/code\u003e, you can also have a \u003ccode\u003eprebuild\u003c/code\u003e and a \u003ccode\u003epostbuild\u003c/code\u003e script that you can define and when you run \u003ccode\u003e$ npm run build | $ yarn build\u003c/code\u003e it will preform: \u003ccode\u003eprebuild\u003c/code\u003e, then \u003ccode\u003ebuild\u003c/code\u003e, then \u003ccode\u003epostbuild\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eIn package.json you can set which versions you want to upgrade to (patch or minor), using the semver notation, for example:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003eexact package version               1.13.0 =\u003e 1.13.0\nupdate patch and minor releases     ~1.13.0 =\u003e 1.13.*\nexact version                       ^1.13.0 =\u003e 1.*.*\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cul\u003e\n\u003cli\u003eDon't commit your \u003ccode\u003enode_modules\u003c/code\u003e files because the \u003ccode\u003epackage.json\u003c/code\u003e is used to fetch and manage the packaged used for the nodejs project\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eThe \u003ccode\u003epackage-lock.json\u003c/code\u003e or \u003ccode\u003eyarn.lock\u003c/code\u003e file\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eIn \u003ccode\u003eversion 5\u003c/code\u003e, npm introduced the\u003ccode\u003e package-lock.json\u003c/code\u003e file.\u003c/li\u003e\n\u003cli\u003eThe goal of package-lock.json file is to keep track of the exact version of every package that is installed so that a product is 100% reproducible in the same way even if packages are updated by their maintainers.\u003c/li\u003e\n\u003cli\u003eThe package-lock.json sets your currently installed version of each package in stone, and npm will use those exact versions when running npm install.\u003c/li\u003e\n\u003cli\u003eThe \u003ccode\u003epackage-lock.json\u003c/code\u003e file needs to be committed to your Git repository, so it can be fetched by other people, if the project is public or you have collaborators, or if you use Git as a source for deployments.\u003c/li\u003e\n\u003cli\u003eThe \u003ccode\u003eyarn.lock\u003c/code\u003e is the main source of information about the current versions of dependencies in a project if you are using yarn in your project instead of \u003ccode\u003enpm\u003c/code\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eControlling Nodejs version and npm or yarn version\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eYou can force which version of Nodejs \u0026#x26; npm/yarn version in the \u003ccode\u003epackage.json\u003c/code\u003e file however you need to also use a \u003ccode\u003e.npmrc\u003c/code\u003e file with \u003ccode\u003eengine-strict = true\u003c/code\u003e set\u003c/li\u003e\n\u003c/ul\u003e\n\u003col\u003e\n\u003cli\u003eCreate/update the \u003ccode\u003e.npmrc\u003c/code\u003e file\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-text\"\u003e\u003ccode class=\"language-text\"\u003eengine-strict = true\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003eUpdate your package.json to have the node \u0026#x26; npm/yarn versions\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eForce to use npm\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-json\"\u003e\u003ccode class=\"language-json\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"engines\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"node\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"v14.19.1\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"npm\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"8.5.5\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"yarn\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"please-use-npm\"\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003eForce yarn\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-json\"\u003e\u003ccode class=\"language-json\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"engines\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"node\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"v14.18.1\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"npm\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"please-use-yarn\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"yarn\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"\u003e=1.22 \u0026#x3C;=2\"\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"3\"\u003e\n\u003cli\u003e(optional) you can also add a \u003ccode\u003e.nvmrc\u003c/code\u003e file to allow you to switch to the right Nodejs version\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eIf you don't have nvm installed go \u003ca href=\"https://github.com/nvm-sh/nvm\"\u003ehere\u003c/a\u003e to install it.\u003c/li\u003e\n\u003cli\u003eCreate the \u003ccode\u003e.nvmrc\u003c/code\u003e file\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-text\"\u003e\u003ccode class=\"language-text\"\u003ev16\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003eNow you can switch to that Nodejs version with\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e$ nvm use\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"4\"\u003e\n\u003cli\u003e(optional) If you are using vscode you can add an extension\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eIf you want to automatically switch the version of node when you open up a terminal inside vscode there's an extension for that...\u003c/li\u003e\n\u003cli\u003eGot to your extensions in vscode and add \u003ccode\u003evsc-nvm\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eid =\u003e \u003ccode\u003ehenrynguyen5-vsc.vsc-nvm\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eCreating a npm package\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eSematic versioning\u003c/strong\u003e\n\u003cBREAKING\u003e.\u003cFEATURE\u003e.\u003cFIX\u003e\n\u003cMAJOR\u003e.\u003cMINOR\u003e.\u003cPATCH\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eFor Every release\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eRun tests (if there are any)\u003c/li\u003e\n\u003cli\u003eUpdate version in package.json according to Semver\u003c/li\u003e\n\u003cli\u003eCreate a git tag according to Semver\nMAJOR.MINOR.PATCH\n\u003ccode\u003e$ git tag -a v#.#.# -m #.#.#\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003ePush the package to Github\u003c/li\u003e\n\u003cli\u003ePush the package to npm\u003c/li\u003e\n\u003cli\u003eCreate release notes for every update\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003e\u003cstrong\u003eConventional commits\u003c/strong\u003e\u003c/h2\u003e\n\u003c!-- https://dev.to/joshaguilar/fully-automating-npm-package-releases-3k7e --\u003e\n\u003cul\u003e\n\u003cli\u003eA specification for adding human and machine readable meaning to commit messages.\u003c/li\u003e\n\u003cli\u003eIt provides a set of rules for creating a commit history that can be easily used by automated tools such as a CI/CD pipeline.\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-text\"\u003e\u003ccode class=\"language-text\"\u003e\u0026#x26;lt;type\u0026#x26;gt;(optional scope): \u0026#x26;lt;description\u0026#x26;gt;\n[optional body]\n[optional footer(s)]\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003eThere are multiple tools available to enforcing \u003cstrong\u003econvential commits\u003c/strong\u003e, like \u003ca href=\"\"\u003ehusky\u003c/a\u003e, \u003ca href=\"https://github.com/conventional-changelog/commitlint\"\u003ecommitlint\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eAutomating with semantic-release\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003esemantic-release\u003c/code\u003e automates the whole package release workflow including:\n\u003cul\u003e\n\u003cli\u003eDetermining the next version number\u003c/li\u003e\n\u003cli\u003eGenerating the release notes\u003c/li\u003e\n\u003cli\u003ePublishing the package\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003col\u003e\n\u003cli\u003eConvential commits\u003c/li\u003e\n\u003cli\u003eAdd rules to enforce convential commits (husky or commitlint)\u003c/li\u003e\n\u003cli\u003eAutomate with sematic-release\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003ebranch names:\n\u003cstrong\u003efeat\u003c/strong\u003e: A new feature\n\u003cstrong\u003efix\u003c/strong\u003e: A bug fix\n\u003cstrong\u003edocs\u003c/strong\u003e: Documentation only changes\n\u003cstrong\u003estyle\u003c/strong\u003e: Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc)\n\u003cstrong\u003erefactor\u003c/strong\u003e: A code change that neither fixes a bug nor adds a feature\n\u003cstrong\u003eperf\u003c/strong\u003e: A code change that improves performance\n\u003cstrong\u003etest\u003c/strong\u003e: Adding missing or correcting existing tests\n\u003cstrong\u003echore\u003c/strong\u003e: Changes to the build process or auxiliary tools and libraries such as documentation generation\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e\"resolutions\" key\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eresolutions\u003c/code\u003e is simply a map of package names and the exact versions of those packages that should be kept in the dependency tree, i.e. the below configuration will remove all versions of webpack that are not 5.6.0. As long you install webpack@5.6.0 version as a dependency of the project you are working with, this will guarantee that all packages load the same version of webpack.\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-json\"\u003e\u003ccode class=\"language-json\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"dependencies\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"webpack\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"5.6.0\"\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"resolutions\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"webpack\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"5.6.0\"\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003eShort overview of CJS, AMD, UMD, and ESM in Javascript\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003eIn the beginging JavaScript didn't have a way to import/export modules you had to write all of our JS in a single file or load multiple files with \u003ccode\u003e\u0026#x3C;script /\u003e\u003c/code\u003e tag in the browser.\u003c/li\u003e\n\u003cli\u003ePeople started to add modularity to JS with CJS, AMD, UMD, and ESM\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eCJS\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eCJS stands for CommonJS\u003c/li\u003e\n\u003cli\u003eNodejs uses this module format\u003c/li\u003e\n\u003cli\u003eImporting of the modules is done synchronously\u003c/li\u003e\n\u003cli\u003eWhen CJS imports, it will give you a copy of the imported object.\u003c/li\u003e\n\u003cli\u003eCJS will \u003cem\u003enot\u003c/em\u003e work in the browser. It will have to be transpiled and bundled.\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token comment\"\u003e//importing \u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e doSomething \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003erequire\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'./doSomething.js'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \n\n\u003cspan class=\"token comment\"\u003e//exporting\u003c/span\u003e\nmodule\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method-variable function-variable method function property-access\"\u003eexports\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003edoSomething\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003en\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// do something\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eESM\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eESM stands for ES Modules\u003c/li\u003e\n\u003cli\u003eESM enables named exports, better static analysis, tree-shaking, browsers native support, and most importantly, as a standard, it’s basically the future of JavaScript.\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003edefault\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// your Function\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// default export\u003c/span\u003e\n\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function\"\u003efunction1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token spread operator\"\u003e...\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// named export\u003c/span\u003e\n\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function\"\u003efunction2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token spread operator\"\u003e...\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// named export\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword module\"\u003eimport\u003c/span\u003e \u003cspan class=\"token imports\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003efunction1\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e function2\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e'./doSomething'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eAMD\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eAMD stands for Asynchronous Module Definition\u003c/li\u003e\n\u003cli\u003eThis module API supported by RequireJS.\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token function\"\u003edefine\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e'doSomething'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e'dep1'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e'dep2'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003edoSomething\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e dep1\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e dep2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e// Define the module value by returning a value.\u003c/span\u003e\n    \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eUMD\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eUMD stands for Universal Module Definition\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003eroot\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e factory\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003etypeof\u003c/span\u003e define \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"function\"\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e define\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eamd\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token function\"\u003edefine\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"jquery\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"underscore\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e factory\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eelse\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003etypeof\u003c/span\u003e exports \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"object\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        module\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eexports\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003efactory\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token function\"\u003erequire\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"jquery\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token function\"\u003erequire\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"underscore\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eelse\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        root\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003e\u003cspan class=\"token maybe-class-name\"\u003eRequester\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003efactory\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eroot\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003e$\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e root\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003e_\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003e$\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e _\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e// this is where I defined my module implementation\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e \u003cspan class=\"token maybe-class-name\"\u003eRequester\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// ... };\u003c/span\u003e\n    \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token maybe-class-name\"\u003eRequester\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003eCJS \u0026#x26; ESM\u003c/h1\u003e\n\u003c!-- https://antfu.me/posts/publish-esm-and-cjs --\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eIn May, 2020, Node.js \u003ccode\u003ev12.17.0\u003c/code\u003e made ESM support available to all Node.js applications (\u003cstrong\u003ewithout experimental flags\u003c/strong\u003e).\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eCommon.js can't run in the browser directly it needs a bundler, ES Modules can run in newer browsers and the bundler is optional\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eYou are most likely using ESM when working with web development\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eCommonjs is becomming the old way we work with JavaScript\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003efuncOne\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"commonjs func one\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\nmodule\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eexports\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e funcOne\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eCommonjs exporting multiple functions in one file\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003efuncOne\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"commonjs func 1\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003efuncTown\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"commonjs funcky town!\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\nmodule\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eexports\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e funcOne\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e funcTown \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eCommonjs using those files\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e something \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003erequire\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'./filename'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e    \n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e funcOne\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e funcTown \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003erequire\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'./filename2'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eESM\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003efuncOne\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"commonjs func 1\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \n\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003edefault\u003c/span\u003e funcOne\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003efuncOne\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"commonjs func 1\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \n\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003efuncTown\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"commonjs funcky town!\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword module\"\u003eimport\u003c/span\u003e \u003cspan class=\"token imports\"\u003esomething\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e'./filename'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// Default export\u003c/span\u003e\n\u003cspan class=\"token keyword module\"\u003eimport\u003c/span\u003e \u003cspan class=\"token imports\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e funcOne\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e funcTown \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e'./filename2'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// Named exports\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eESM in the browser\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eSo with \u003ca href=\"https://caniuse.com/?search=esm\"\u003emodern browsers\u003c/a\u003e all you have to do in have an attribute on your \u003ccode\u003e\u0026#x3C;script\u003e\u003c/code\u003e tag called \u003ccode\u003etype=\"module\"\u003c/code\u003e and you should now be able to use \u003ccode\u003eimport\u003c/code\u003e \u0026#x26; \u003ccode\u003eexport\u003c/code\u003e in that script file/online without needing a bundler!\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eWhat a package only exports to CommonJS?? well this is where \u003ccode\u003eesinstall\u003c/code\u003e comes in.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eesinstall\u003c/code\u003e is a development tool that converts any JavaScript package into a single ES6-module-friendly file that you can check into your codebase and import.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eYou can run this conversion just once on install, so there’s no need to set up file watching or other unnecessary tooling.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo set it up, update our package.json like so:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-json\"\u003e\u003ccode class=\"language-json\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"some-awesome-project\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"scripts\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"postinstall\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"node convert-to-esm.mjs\"\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"dependencies\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"some-commonjs-package\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"^1.2.3\"\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"devDependencies\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"esinstall\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"^1.1.7\"\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"esinstall\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"install\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n      \u003cspan class=\"token string\"\u003e\"some-commonjs-package\"\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eThis package.json update does a couple of things:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eDeclares \u003ccode\u003eesinstall\u003c/code\u003e as a dev dependency\u003c/li\u003e\n\u003cli\u003eAdd a \u003ccode\u003eesinstall\u003c/code\u003e block for listing all packages we want convert from CommonJS to ESM\u003c/li\u003e\n\u003cli\u003eDefines a \u003ccode\u003epostinstall\u003c/code\u003e script that will run after we install anything with \u003ccode\u003e$ npm install | $ yarn\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eNow the code for the \u003ccode\u003epostinstall\u003c/code\u003e npm script:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword module\"\u003eimport\u003c/span\u003e \u003cspan class=\"token imports\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e install \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e'esinstall'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword module\"\u003eimport\u003c/span\u003e \u003cspan class=\"token imports\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e readFile \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e'fs/promises'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e json \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token known-class-name class-name\"\u003eJSON\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eparse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\n  \u003cspan class=\"token keyword control-flow\"\u003eawait\u003c/span\u003e \u003cspan class=\"token function\"\u003ereadFile\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eURL\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'./package.json'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003eimport\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003emeta\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eurl\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e moduleList \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e json\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eesinstall\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003einstall\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e installOptions \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e json\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eesinstall\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003einstallOptions\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token keyword control-flow\"\u003eawait\u003c/span\u003e \u003cspan class=\"token function\"\u003einstall\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003emoduleList\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e installOptions\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eNow all you have to do is run \u003ccode\u003e$ npm install || $ yarn \u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003eESM import/export files\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eIf you have a folder structure of and your \u003ccode\u003eMyComponent\u003c/code\u003e has a \u003ccode\u003edefault export\u003c/code\u003e\n├── MyComponent.stories.jsx\n├── MyComponent.jsx\n├── MyComponent.module.css\n└── index.js\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eYour \u003ccode\u003eindex.js\u003c/code\u003e content\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token comment\"\u003e// import MyComponent from './MyComponent'\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e// export default MyComponent\u003c/span\u003e\n\n\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token exports\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003edefault\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e'./MyComponent'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eIf you have a folder structure of and your \u003ccode\u003eMyComponent\u003c/code\u003e has a \u003ccode\u003enamed export\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token comment\"\u003e// export { default as ComponentOne } from './MyComponent'\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e// export { default as ComponentTwo } from './MyComponent'\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e// export { default as ComponentThree } from './MyComponent'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003eCreating a CLI\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003eThere are 2 types of packages you can create: \u003ccode\u003eglobal\u003c/code\u003e \u0026#x26; \u003ccode\u003elocal\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eThe \u003ccode\u003eglobal\u003c/code\u003e package can be installed an run like a bash command\u003c/li\u003e\n\u003cli\u003eStart by creating a new package\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e init -y\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003eCreate a \u003ccode\u003ebin/index.js\u003c/code\u003e file\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token hashbang comment\"\u003e#!/usr/bin/env node\u003c/span\u003e\n\n\u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'hello'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003eIn your \u003ccode\u003epackage.json\u003c/code\u003e file add\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-json\"\u003e\u003ccode class=\"language-json\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"your-module-name\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"bin\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003e\"your-module-name\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"./bin/index.js\"\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003eLink this application on your machine so you can test it out\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e \u003cspan class=\"token function\"\u003elink\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003eNow you can run your CLI\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e$ your-module-name\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003eYou can publish it too\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003eSpawn\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003eNode.js runs in a single-thread mode, but it uses an event-driven paradigm to handle concurrency.\u003c/li\u003e\n\u003cli\u003eIt also facilitates creation of child processes to leverage parallel processing on multi-core CPU based systems.\u003c/li\u003e\n\u003cli\u003eNode provides child_process module which has the following three major ways to create a child process.\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cem\u003eexec\u003c/em\u003e − \u003ccode\u003echild_process.exec\u003c/code\u003e method runs a command in a shell/console and buffers the output.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cem\u003espawn\u003c/em\u003e − \u003ccode\u003echild_process.spawn\u003c/code\u003e launches a new process with a given command.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cem\u003efork\u003c/em\u003e − The \u003ccode\u003echild_process.fork\u003c/code\u003e method is a special case of the spawn() to create child processes.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003eNode tools\u003c/h1\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e\u003cspan class=\"token comment\"\u003e# Find out-of-day packages\u003c/span\u003e\n$ npx npm-upgrade\n\n$ npx depcheck\n\n\u003cspan class=\"token comment\"\u003e# Find and delete `node_modules` on your machine\u003c/span\u003e\n$ npx npkill\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch1\u003eKilling your local server that is going rogue\u003c/h1\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e\u003cspan class=\"token comment\"\u003e# Find:\u003c/span\u003e\n$ \u003cspan class=\"token function\"\u003esudo\u003c/span\u003e \u003cspan class=\"token function\"\u003elsof\u003c/span\u003e -i :3000\n\n\u003cspan class=\"token comment\"\u003e# Kill:\u003c/span\u003e\n$ \u003cspan class=\"token function\"\u003ekill\u003c/span\u003e -9 \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003ePID\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch1\u003eGit hooks\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eAutomation is always good, especially when it reduces congnitive load and optimization\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eWe can automate things before we create commits or push changes to a repo\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eThe \u003ccode\u003e.git\u003c/code\u003e ditectory allows you to do native hooks if you want to or you can use something like husky to do all the heavy lifting for you and you can stay in JS land :)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eCheck out the \u003ca href=\"https://typicode.github.io/husky/#/\"\u003eHusky docs here\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eHusky works with all \u003ca href=\"https://git-scm.com/docs/githooks\"\u003egithooks\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eIntall husky with:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e$ npx husky-init \u003cspan class=\"token operator\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e \u003cspan class=\"token function\"\u003einstall\u003c/span\u003e \n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eThis will automatically wireup all the git hooks and add a script \u003ccode\u003e.husky/pre-commit\u003c/code\u003e where you can add whatever command run before a commit\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e\u003cspan class=\"token shebang important\"\u003e#!/bin/sh\u003c/span\u003e\n\u003cspan class=\"token builtin class-name\"\u003e.\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"\u003cspan class=\"token variable\"\u003e\u003cspan class=\"token variable\"\u003e$(\u003c/span\u003e\u003cspan class=\"token function\"\u003edirname\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"\u003cspan class=\"token variable\"\u003e$0\u003c/span\u003e\"\u003c/span\u003e\u003cspan class=\"token variable\"\u003e)\u003c/span\u003e\u003c/span\u003e/_/husky.sh\"\u003c/span\u003e\n\n\u003cspan class=\"token function\"\u003enpm\u003c/span\u003e run lint\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eIt will setup husky, modify \u003ccode\u003epackage.json\u003c/code\u003e and create a sample \u003ccode\u003epre-commit\u003c/code\u003e hook that you can edit. - By default, it will run npm test when you commit.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo add another hook use husky add.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e$ npx husky \u003cspan class=\"token function\"\u003eadd\u003c/span\u003e .husky/pre-push \u003cspan class=\"token string\"\u003e'npm run lint \u0026#x26;\u0026#x26; npm run test:ci'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eThis will create \u003ccode\u003e.husky/pre-push\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e\u003cspan class=\"token shebang important\"\u003e#!/bin/sh\u003c/span\u003e\n\u003cspan class=\"token builtin class-name\"\u003e.\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"\u003cspan class=\"token variable\"\u003e\u003cspan class=\"token variable\"\u003e$(\u003c/span\u003e\u003cspan class=\"token function\"\u003edirname\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"\u003cspan class=\"token variable\"\u003e$0\u003c/span\u003e\"\u003c/span\u003e\u003cspan class=\"token variable\"\u003e)\u003c/span\u003e\u003c/span\u003e/_/husky.sh\"\u003c/span\u003e\n\n\u003cspan class=\"token function\"\u003enpm\u003c/span\u003e run lint \u003cspan class=\"token operator\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e run test:ci\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003eJWT (JSON Web Tokens)\u003c/h1\u003e\n\u003cp\u003ehttps://auth0.com/docs/tokens/json-web-tokens/json-web-token-claims#reserved-claims\u003c/p\u003e\n\u003ch1\u003eJS Doc\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003eThere are alot of ways to document your code; README, tutorials, documentation file, etc\u003c/li\u003e\n\u003cli\u003eThe problem with the one above is they get out of date quickly, it's best to put your documentaion as close to the code so that you can update it as you up update the functionality.\u003c/li\u003e\n\u003cli\u003eJSDoc is perfect for this kinda documentation layer, plus if you are using vscode it will give you intellesence!\u003c/li\u003e\n\u003c/ul\u003e\n\u003col\u003e\n\u003cli\u003eStart with a code block\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token doc-comment comment\"\u003e/**\u003c/span\u003e\n\u003cspan class=\"token doc-comment comment\"\u003e * Takes in to numbers and will add them\u003c/span\u003e\n\u003cspan class=\"token doc-comment comment\"\u003e */\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003eaddItems\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003eitem1\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e item2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e item1 \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e item2\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003edefault\u003c/span\u003e addItems\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003eAdd a description of what it does\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eThe function name should give it away but it gives you a chance to descript it with words)\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token doc-comment comment\"\u003e/**\u003c/span\u003e\n\u003cspan class=\"token doc-comment comment\"\u003e * Takes in to numbers and will add them\u003c/span\u003e\n\u003cspan class=\"token doc-comment comment\"\u003e */\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003eaddItems\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003eitem1\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e item2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e item1 \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e item2\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003edefault\u003c/span\u003e addItems\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cimg src=\"plublic/assets/blog/jsdoc-description-only.jpg\" alt=\"jsdoc-description-only\"\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003eNow describe the params and the return\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eHere is what the format looks like\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token doc-comment comment\"\u003e/**\n*\n* \u003cspan class=\"token keyword\"\u003e@param\u003c/span\u003e \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003eparam type\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token parameter\"\u003eparam\u003c/span\u003e name - description\n*\n*/\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003eNow let's add those\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token doc-comment comment\"\u003e/**\n * Takes in to numbers and will add them\n *\n * \u003cspan class=\"token keyword\"\u003e@param\u003c/span\u003e \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003enumber\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token parameter\"\u003eitem1\u003c/span\u003e - First number\n * \u003cspan class=\"token keyword\"\u003e@param\u003c/span\u003e \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003enumber\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token parameter\"\u003eitem2\u003c/span\u003e - Second number\n * \u003cspan class=\"token keyword\"\u003e@returns\u003c/span\u003e \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003enumber\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e Sum of the 2 numbers\n */\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003eaddItems\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003eitem1\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e item2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e item1 \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e item2\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003edefault\u003c/span\u003e addItems\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cimg src=\"plublic/assets/blog/jsdoc-complete.jpg\" alt=\"jsdoc-complete\"\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"3\"\u003e\n\u003cli\u003eUse the function\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eAs you start to type in the parameter it will tell you the data type\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cimg src=\"plublic/assets/blog/jsdoc-using.jpg\" alt=\"jsdoc-using\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eExample of JSDoc\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token doc-comment comment\"\u003e/**\n * Raises a number to exponent\n * \u003cspan class=\"token keyword\"\u003e@param\u003c/span\u003e \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003enumber\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token parameter\"\u003evalue\u003c/span\u003e - The base to raise\n * \u003cspan class=\"token keyword\"\u003e@param\u003c/span\u003e \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003enumber\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token parameter\"\u003eexponent\u003c/span\u003e - The exponent\n * \u003cspan class=\"token keyword\"\u003e@return\u003c/span\u003e \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003enumber\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e - The exponent power\n */\u003c/span\u003e\n\n \u003cspan class=\"token doc-comment comment\"\u003e/**\n * A silly logger function\n * \u003cspan class=\"token keyword\"\u003e@param\u003c/span\u003e \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003estring\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token parameter\"\u003emessage\u003c/span\u003e\n * \u003cspan class=\"token keyword\"\u003e@return\u003c/span\u003e \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token keyword\"\u003evoid\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e Nothing\n */\u003c/span\u003e\n\n\n \u003cspan class=\"token doc-comment comment\"\u003e/**\n * Generates a table head\n * \u003cspan class=\"token keyword\"\u003e@author\u003c/span\u003e Valentino Gagliardi \u0026#x3C;valentinoDOTvalentinog.com\u003e\n * \u003cspan class=\"token keyword\"\u003e@param\u003c/span\u003e \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003eHTMLTableElement\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token parameter\"\u003etable\u003c/span\u003e - The target HTML table\n * \u003cspan class=\"token keyword\"\u003e@param\u003c/span\u003e \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003eArray\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token parameter\"\u003edata\u003c/span\u003e - The array of cell header names\n */\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eGenerate docs\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eYou can use the \u003ccode\u003ejsdoc\u003c/code\u003e to generate documentation for all your functions\u003c/li\u003e\n\u003cli\u003e\u003cem\u003eNote\u003c/em\u003e if you use \u003ccode\u003eexport default function yourFunctionName()\u003c/code\u003e it won't create it you have to define it with just \u003ccode\u003efunction yourFunctionName()\u003c/code\u003e then export it on another line \u003ccode\u003eexport default yourFunctionName\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eAdd the \u003ccode\u003ejsdoc\u003c/code\u003e package to your repo\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e$ \u003cspan class=\"token function\"\u003emkdir\u003c/span\u003e docs\n$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e i -D jsdoc\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003eupdate your \u003ccode\u003epackage.json\u003c/code\u003e file\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token string-property property\"\u003e\"scripts\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token string-property property\"\u003e\"make:docs\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"jsdoc -d documentation src/*.js \"\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003enow run the doc generator\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e run make:docs\n$ \u003cspan class=\"token builtin class-name\"\u003ecd\u003c/span\u003e documentation\n$ npx live-server\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003eDownload images from the web\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eDownloading an image is different then download data, you gotta use streams\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e fs \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003erequire\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"fs\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e path \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003erequire\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"path\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token maybe-class-name\"\u003eAxios\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003erequire\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"axios\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003edownloadImage\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003eurl\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e filepath\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e response \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eawait\u003c/span\u003e \u003cspan class=\"token function\"\u003e\u003cspan class=\"token maybe-class-name\"\u003eAxios\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    url\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token literal-property property\"\u003emethod\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"GET\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token literal-property property\"\u003eresponseType\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"stream\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003ePromise\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003eresolve\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e reject\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    response\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003edata\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003epipe\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003efs\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ecreateWriteStream\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003efilepath\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eon\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"error\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e reject\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eonce\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"close\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003eresolve\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003efilepath\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token constant\"\u003eBASE_URL\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"https://some-place.com\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token spread operator\"\u003e...\u003c/span\u003e\u003cspan class=\"token known-class-name class-name\"\u003eArray\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003emap\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003e_\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e pictureNum\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e fileName \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003epictureNum \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e.jpg\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e webUrl \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003e\u003cspan class=\"token constant\"\u003eBASE_URL\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e/\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003efileName\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e downloadFilename \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e path\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ejoin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e__dirname\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token string\"\u003e../art/\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003efileName\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e____\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token function\"\u003edownloadImage\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ewebUrl\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e downloadFilename\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ethen\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token keyword control-flow\"\u003ecatch\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token console class-name\"\u003econsole\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eerror\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","ogImage":{"url":"/assets/covers/nodejs.jpg"},"coverImage":"/assets/covers/nodejs.jpg"}},"__N_SSG":true},"page":"/learn/[slug]","query":{"slug":"node.js"},"buildId":"7iwF-uptO-clUcUHECCZE","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>