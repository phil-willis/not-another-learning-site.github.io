{"pageProps":{"post":{"title":"bash","slug":"bash","content":"<h1>Overview of bash</h1>\n<h2>Bash tips</h2>\n<ul>\n<li>\n<p>Create a new directory or folder</p>\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">mkdir</span> <span class=\"token operator\">&#x3C;</span>directory_name<span class=\"token operator\">></span> <span class=\"token operator\">&#x26;&#x26;</span> <span class=\"token builtin class-name\">cd</span> <span class=\"token variable\">$_</span>\n\n<span class=\"token comment\"># For oh-my-zsh users:</span>\n$ take <span class=\"token operator\">&#x3C;</span>directory_name<span class=\"token operator\">></span>\n</code></pre></div>\n</li>\n</ul>\n<h1>ZX to create JS script</h1>\n<ul>\n<li>The <code>ZX</code> package provides useful wrappers around <code>child_process</code>, escapes arguments and gives sensible defaults.</li>\n<li>What this nodejs package actually do is it allows you to right scripts in JS and use bash sprinkled into it</li>\n</ul>\n<h2>Get started</h2>\n<ol start=\"0\">\n<li>\n<p>Install\n$ npm i -g zx</p>\n</li>\n<li>\n<p>Add the following shebang to the beginning of your zx scripts:</p>\n</li>\n</ol>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\">#<span class=\"token operator\">!</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>env zx\n</code></pre></div>\n<ol start=\"2\">\n<li>How to run the script</li>\n</ol>\n<ul>\n<li>Run it like a regular bash script\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">chmod</span> +x ./script.mjs\n$ ./script.mjs\n</code></pre></div>\n</li>\n<li>Or\n<div class=\"remark-highlight\"><pre class=\"language-shell\"><code class=\"language-shell\">$ zx ./script.mjs\n</code></pre></div>\n</li>\n</ul>\n<ol start=\"3\">\n<li>How to write commands</li>\n</ol>\n<ul>\n<li>All functions ($, cd, fetch, question, sleep, etc) are available straight away without any imports.</li>\n<li>Also includes (chalk, fs, os) without any imports.\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\">$<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">command</span><span class=\"token template-punctuation string\">`</span></span>\n</code></pre></div>\n</li>\n</ul>\n<h2>Working with ZX</h2>\n<h3>Run bash command</h3>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword control-flow\">await</span> $<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">pwd</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token keyword control-flow\">await</span> $<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">cat package.json | grep name</span><span class=\"token template-punctuation string\">`</span></span>\n</code></pre></div>\n<h3>You can use chalk</h3>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span>chalk<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">blue</span><span class=\"token punctuation\">(</span><span class=\"token string\">'homedir'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> os<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">homedir</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span>\n</code></pre></div>\n<h3>JS promises</h3>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword control-flow\">await</span> <span class=\"token known-class-name class-name\">Promise</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n  $<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">sleep 1; echo 1</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n  $<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">sleep 2; echo 2</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n  $<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">sleep 3; echo 3</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<h3>fetch from a URL</h3>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> spaceXUrl <span class=\"token operator\">=</span> <span class=\"token string\">'https://api.spacexdata.com/v4/launches/latest'</span>\n<span class=\"token keyword\">let</span> resp <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>spaceXUrl<span class=\"token punctuation\">)</span>\n<span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>resp<span class=\"token punctuation\">.</span><span class=\"token property-access\">ok</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword control-flow\">await</span> resp<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">text</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h3>Ask questions</h3>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> shoes <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> <span class=\"token function\">question</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Whats your favorite Nike shoe? '</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> token <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> <span class=\"token function\">question</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Choose env variable: '</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  choices<span class=\"token operator\">:</span> <span class=\"token known-class-name class-name\">Object</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">keys</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span><span class=\"token property-access\">env</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span>shoes<span class=\"token punctuation\">)</span>\n</code></pre></div>\n","ogImage":{"url":"/assets/blog/hello-world/cover.jpg"},"coverImage":"/assets/blog/hello-world/cover.jpg"}},"__N_SSG":true}